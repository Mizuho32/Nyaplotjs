/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

!function(r,t){r.Nyaplot=t()}(this,function(){var r,t,e;return function(n){function i(r,t){return x.call(r,t)}function g(r,t){var e,n,i,g,o,a,b,s,l,u,c,d=t&&t.split("/"),f=y.map,p=f&&f["*"]||{};if(r&&"."===r.charAt(0))if(t){for(d=d.slice(0,d.length-1),r=r.split("/"),o=r.length-1,y.nodeIdCompat&&w.test(r[o])&&(r[o]=r[o].replace(w,"")),r=d.concat(r),l=0;l<r.length;l+=1)if(c=r[l],"."===c)r.splice(l,1),l-=1;else if(".."===c){if(1===l&&(".."===r[2]||".."===r[0]))break;l>0&&(r.splice(l-1,2),l-=2)}r=r.join("/")}else 0===r.indexOf("./")&&(r=r.substring(2));if((d||p)&&f){for(e=r.split("/"),l=e.length;l>0;l-=1){if(n=e.slice(0,l).join("/"),d)for(u=d.length;u>0;u-=1)if(i=f[d.slice(0,u).join("/")],i&&(i=i[n])){g=i,a=l;break}if(g)break;!b&&p&&p[n]&&(b=p[n],s=l)}!g&&b&&(g=b,a=s),g&&(e.splice(0,a,g),r=e.join("/"))}return r}function o(r,t){return function(){return d.apply(n,_.call(arguments,0).concat([r,t]))}}function a(r){return function(t){return g(t,r)}}function b(r){return function(t){h[r]=t}}function s(r){if(i(m,r)){var t=m[r];delete m[r],v[r]=!0,c.apply(n,t)}if(!i(h,r)&&!i(v,r))throw new Error("No "+r);return h[r]}function l(r){var t,e=r?r.indexOf("!"):-1;return e>-1&&(t=r.substring(0,e),r=r.substring(e+1,r.length)),[t,r]}function u(r){return function(){return y&&y.config&&y.config[r]||{}}}var c,d,f,p,h={},m={},y={},v={},x=Object.prototype.hasOwnProperty,_=[].slice,w=/\.js$/;f=function(r,t){var e,n=l(r),i=n[0];return r=n[1],i&&(i=g(i,t),e=s(i)),i?r=e&&e.normalize?e.normalize(r,a(t)):g(r,t):(r=g(r,t),n=l(r),i=n[0],r=n[1],i&&(e=s(i))),{f:i?i+"!"+r:r,n:r,pr:i,p:e}},p={require:function(r){return o(r)},exports:function(r){var t=h[r];return"undefined"!=typeof t?t:h[r]={}},module:function(r){return{id:r,uri:"",exports:h[r],config:u(r)}}},c=function(r,t,e,g){var a,l,u,c,d,y,x=[],_=typeof e;if(g=g||r,"undefined"===_||"function"===_){for(t=!t.length&&e.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(c=f(t[d],g),l=c.f,"require"===l)x[d]=p.require(r);else if("exports"===l)x[d]=p.exports(r),y=!0;else if("module"===l)a=x[d]=p.module(r);else if(i(h,l)||i(m,l)||i(v,l))x[d]=s(l);else{if(!c.p)throw new Error(r+" missing "+l);c.p.load(c.n,o(g,!0),b(l),{}),x[d]=h[l]}u=e?e.apply(h[r],x):void 0,r&&(a&&a.exports!==n&&a.exports!==h[r]?h[r]=a.exports:u===n&&y||(h[r]=u))}else r&&(h[r]=e)},r=t=d=function(r,t,e,i,g){if("string"==typeof r)return p[r]?p[r](t):s(f(r,t).f);if(!r.splice){if(y=r,y.deps&&d(y.deps,y.callback),!t)return;t.splice?(r=t,t=e,e=null):r=n}return t=t||function(){},"function"==typeof e&&(e=i,i=g),i?c(n,r,t,e):setTimeout(function(){c(n,r,t,e)},4),d},d.config=function(r){return d(r)},r._defined=h,e=function(r,t,e){t.splice||(e=t,t=[]),i(h,r)||i(m,r)||(m[r]=[r,t,e])},e.amd={jQuery:!0}}(),e("../contrib/almond/almond",function(){}),function(){var r=this,t=r._,n={},i=Array.prototype,g=Object.prototype,o=Function.prototype,a=i.push,b=i.slice,s=i.concat,l=g.toString,u=g.hasOwnProperty,c=i.forEach,d=i.map,f=i.reduce,p=i.reduceRight,h=i.filter,m=i.every,y=i.some,v=i.indexOf,x=i.lastIndexOf,_=Array.isArray,w=Object.keys,k=o.bind,A=function(r){return r instanceof A?r:this instanceof A?void(this._wrapped=r):new A(r)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=A),exports._=A):r._=A,A.VERSION="1.6.0";var M=A.each=A.forEach=function(r,t,e){if(null==r)return r;if(c&&r.forEach===c)r.forEach(t,e);else if(r.length===+r.length){for(var i=0,g=r.length;g>i;i++)if(t.call(e,r[i],i,r)===n)return}else for(var o=A.keys(r),i=0,g=o.length;g>i;i++)if(t.call(e,r[o[i]],o[i],r)===n)return;return r};A.map=A.collect=function(r,t,e){var n=[];return null==r?n:d&&r.map===d?r.map(t,e):(M(r,function(r,i,g){n.push(t.call(e,r,i,g))}),n)};var q="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(r,t,e,n){var i=arguments.length>2;if(null==r&&(r=[]),f&&r.reduce===f)return n&&(t=A.bind(t,n)),i?r.reduce(t,e):r.reduce(t);if(M(r,function(r,g,o){i?e=t.call(n,e,r,g,o):(e=r,i=!0)}),!i)throw new TypeError(q);return e},A.reduceRight=A.foldr=function(r,t,e,n){var i=arguments.length>2;if(null==r&&(r=[]),p&&r.reduceRight===p)return n&&(t=A.bind(t,n)),i?r.reduceRight(t,e):r.reduceRight(t);var g=r.length;if(g!==+g){var o=A.keys(r);g=o.length}if(M(r,function(a,b,s){b=o?o[--g]:--g,i?e=t.call(n,e,r[b],b,s):(e=r[b],i=!0)}),!i)throw new TypeError(q);return e},A.find=A.detect=function(r,t,e){var n;return D(r,function(r,i,g){return t.call(e,r,i,g)?(n=r,!0):void 0}),n},A.filter=A.select=function(r,t,e){var n=[];return null==r?n:h&&r.filter===h?r.filter(t,e):(M(r,function(r,i,g){t.call(e,r,i,g)&&n.push(r)}),n)},A.reject=function(r,t,e){return A.filter(r,function(r,n,i){return!t.call(e,r,n,i)},e)},A.every=A.all=function(r,t,e){t||(t=A.identity);var i=!0;return null==r?i:m&&r.every===m?r.every(t,e):(M(r,function(r,g,o){return(i=i&&t.call(e,r,g,o))?void 0:n}),!!i)};var D=A.some=A.any=function(r,t,e){t||(t=A.identity);var i=!1;return null==r?i:y&&r.some===y?r.some(t,e):(M(r,function(r,g,o){return i||(i=t.call(e,r,g,o))?n:void 0}),!!i)};A.contains=A.include=function(r,t){return null==r?!1:v&&r.indexOf===v?-1!=r.indexOf(t):D(r,function(r){return r===t})},A.invoke=function(r,t){var e=b.call(arguments,2),n=A.isFunction(t);return A.map(r,function(r){return(n?t:r[t]).apply(r,e)})},A.pluck=function(r,t){return A.map(r,A.property(t))},A.where=function(r,t){return A.filter(r,A.matches(t))},A.findWhere=function(r,t){return A.find(r,A.matches(t))},A.max=function(r,t,e){if(!t&&A.isArray(r)&&r[0]===+r[0]&&r.length<65535)return Math.max.apply(Math,r);var n=-1/0,i=-1/0;return M(r,function(r,g,o){var a=t?t.call(e,r,g,o):r;a>i&&(n=r,i=a)}),n},A.min=function(r,t,e){if(!t&&A.isArray(r)&&r[0]===+r[0]&&r.length<65535)return Math.min.apply(Math,r);var n=1/0,i=1/0;return M(r,function(r,g,o){var a=t?t.call(e,r,g,o):r;i>a&&(n=r,i=a)}),n},A.shuffle=function(r){var t,e=0,n=[];return M(r,function(r){t=A.random(e++),n[e-1]=n[t],n[t]=r}),n},A.sample=function(r,t,e){return null==t||e?(r.length!==+r.length&&(r=A.values(r)),r[A.random(r.length-1)]):A.shuffle(r).slice(0,Math.max(0,t))};var z=function(r){return null==r?A.identity:A.isFunction(r)?r:A.property(r)};A.sortBy=function(r,t,e){return t=z(t),A.pluck(A.map(r,function(r,n,i){return{value:r,index:n,criteria:t.call(e,r,n,i)}}).sort(function(r,t){var e=r.criteria,n=t.criteria;if(e!==n){if(e>n||void 0===e)return 1;if(n>e||void 0===n)return-1}return r.index-t.index}),"value")};var j=function(r){return function(t,e,n){var i={};return e=z(e),M(t,function(g,o){var a=e.call(n,g,o,t);r(i,a,g)}),i}};A.groupBy=j(function(r,t,e){A.has(r,t)?r[t].push(e):r[t]=[e]}),A.indexBy=j(function(r,t,e){r[t]=e}),A.countBy=j(function(r,t){A.has(r,t)?r[t]++:r[t]=1}),A.sortedIndex=function(r,t,e,n){e=z(e);for(var i=e.call(n,t),g=0,o=r.length;o>g;){var a=g+o>>>1;e.call(n,r[a])<i?g=a+1:o=a}return g},A.toArray=function(r){return r?A.isArray(r)?b.call(r):r.length===+r.length?A.map(r,A.identity):A.values(r):[]},A.size=function(r){return null==r?0:r.length===+r.length?r.length:A.keys(r).length},A.first=A.head=A.take=function(r,t,e){return null==r?void 0:null==t||e?r[0]:0>t?[]:b.call(r,0,t)},A.initial=function(r,t,e){return b.call(r,0,r.length-(null==t||e?1:t))},A.last=function(r,t,e){return null==r?void 0:null==t||e?r[r.length-1]:b.call(r,Math.max(r.length-t,0))},A.rest=A.tail=A.drop=function(r,t,e){return b.call(r,null==t||e?1:t)},A.compact=function(r){return A.filter(r,A.identity)};var S=function(r,t,e){return t&&A.every(r,A.isArray)?s.apply(e,r):(M(r,function(r){A.isArray(r)||A.isArguments(r)?t?a.apply(e,r):S(r,t,e):e.push(r)}),e)};A.flatten=function(r,t){return S(r,t,[])},A.without=function(r){return A.difference(r,b.call(arguments,1))},A.partition=function(r,t){var e=[],n=[];return M(r,function(r){(t(r)?e:n).push(r)}),[e,n]},A.uniq=A.unique=function(r,t,e,n){A.isFunction(t)&&(n=e,e=t,t=!1);var i=e?A.map(r,e,n):r,g=[],o=[];return M(i,function(e,n){(t?n&&o[o.length-1]===e:A.contains(o,e))||(o.push(e),g.push(r[n]))}),g},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(r){var t=b.call(arguments,1);return A.filter(A.uniq(r),function(r){return A.every(t,function(t){return A.contains(t,r)})})},A.difference=function(r){var t=s.apply(i,b.call(arguments,1));return A.filter(r,function(r){return!A.contains(t,r)})},A.zip=function(){for(var r=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(r),e=0;r>e;e++)t[e]=A.pluck(arguments,""+e);return t},A.object=function(r,t){if(null==r)return{};for(var e={},n=0,i=r.length;i>n;n++)t?e[r[n]]=t[n]:e[r[n][0]]=r[n][1];return e},A.indexOf=function(r,t,e){if(null==r)return-1;var n=0,i=r.length;if(e){if("number"!=typeof e)return n=A.sortedIndex(r,t),r[n]===t?n:-1;n=0>e?Math.max(0,i+e):e}if(v&&r.indexOf===v)return r.indexOf(t,e);for(;i>n;n++)if(r[n]===t)return n;return-1},A.lastIndexOf=function(r,t,e){if(null==r)return-1;var n=null!=e;if(x&&r.lastIndexOf===x)return n?r.lastIndexOf(t,e):r.lastIndexOf(t);for(var i=n?e:r.length;i--;)if(r[i]===t)return i;return-1},A.range=function(r,t,e){arguments.length<=1&&(t=r||0,r=0),e=arguments[2]||1;for(var n=Math.max(Math.ceil((t-r)/e),0),i=0,g=new Array(n);n>i;)g[i++]=r,r+=e;return g};var O=function(){};A.bind=function(r,t){var e,n;if(k&&r.bind===k)return k.apply(r,b.call(arguments,1));if(!A.isFunction(r))throw new TypeError;return e=b.call(arguments,2),n=function(){if(!(this instanceof n))return r.apply(t,e.concat(b.call(arguments)));O.prototype=r.prototype;var i=new O;O.prototype=null;var g=r.apply(i,e.concat(b.call(arguments)));return Object(g)===g?g:i}},A.partial=function(r){var t=b.call(arguments,1);return function(){for(var e=0,n=t.slice(),i=0,g=n.length;g>i;i++)n[i]===A&&(n[i]=arguments[e++]);for(;e<arguments.length;)n.push(arguments[e++]);return r.apply(this,n)}},A.bindAll=function(r){var t=b.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return M(t,function(t){r[t]=A.bind(r[t],r)}),r},A.memoize=function(r,t){var e={};return t||(t=A.identity),function(){var n=t.apply(this,arguments);return A.has(e,n)?e[n]:e[n]=r.apply(this,arguments)}},A.delay=function(r,t){var e=b.call(arguments,2);return setTimeout(function(){return r.apply(null,e)},t)},A.defer=function(r){return A.delay.apply(A,[r,1].concat(b.call(arguments,1)))},A.throttle=function(r,t,e){var n,i,g,o=null,a=0;e||(e={});var b=function(){a=e.leading===!1?0:A.now(),o=null,g=r.apply(n,i),n=i=null};return function(){var s=A.now();a||e.leading!==!1||(a=s);var l=t-(s-a);return n=this,i=arguments,0>=l?(clearTimeout(o),o=null,a=s,g=r.apply(n,i),n=i=null):o||e.trailing===!1||(o=setTimeout(b,l)),g}},A.debounce=function(r,t,e){var n,i,g,o,a,b=function(){var s=A.now()-o;t>s?n=setTimeout(b,t-s):(n=null,e||(a=r.apply(g,i),g=i=null))};return function(){g=this,i=arguments,o=A.now();var s=e&&!n;return n||(n=setTimeout(b,t)),s&&(a=r.apply(g,i),g=i=null),a}},A.once=function(r){var t,e=!1;return function(){return e?t:(e=!0,t=r.apply(this,arguments),r=null,t)}},A.wrap=function(r,t){return A.partial(t,r)},A.compose=function(){var r=arguments;return function(){for(var t=arguments,e=r.length-1;e>=0;e--)t=[r[e].apply(this,t)];return t[0]}},A.after=function(r,t){return function(){return--r<1?t.apply(this,arguments):void 0}},A.keys=function(r){if(!A.isObject(r))return[];if(w)return w(r);var t=[];for(var e in r)A.has(r,e)&&t.push(e);return t},A.values=function(r){for(var t=A.keys(r),e=t.length,n=new Array(e),i=0;e>i;i++)n[i]=r[t[i]];return n},A.pairs=function(r){for(var t=A.keys(r),e=t.length,n=new Array(e),i=0;e>i;i++)n[i]=[t[i],r[t[i]]];return n},A.invert=function(r){for(var t={},e=A.keys(r),n=0,i=e.length;i>n;n++)t[r[e[n]]]=e[n];return t},A.functions=A.methods=function(r){var t=[];for(var e in r)A.isFunction(r[e])&&t.push(e);return t.sort()},A.extend=function(r){return M(b.call(arguments,1),function(t){if(t)for(var e in t)r[e]=t[e]}),r},A.pick=function(r){var t={},e=s.apply(i,b.call(arguments,1));return M(e,function(e){e in r&&(t[e]=r[e])}),t},A.omit=function(r){var t={},e=s.apply(i,b.call(arguments,1));for(var n in r)A.contains(e,n)||(t[n]=r[n]);return t},A.defaults=function(r){return M(b.call(arguments,1),function(t){if(t)for(var e in t)void 0===r[e]&&(r[e]=t[e])}),r},A.clone=function(r){return A.isObject(r)?A.isArray(r)?r.slice():A.extend({},r):r},A.tap=function(r,t){return t(r),r};var B=function(r,t,e,n){if(r===t)return 0!==r||1/r==1/t;if(null==r||null==t)return r===t;r instanceof A&&(r=r._wrapped),t instanceof A&&(t=t._wrapped);var i=l.call(r);if(i!=l.call(t))return!1;switch(i){case"[object String]":return r==String(t);case"[object Number]":return r!=+r?t!=+t:0==r?1/r==1/t:r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object RegExp]":return r.source==t.source&&r.global==t.global&&r.multiline==t.multiline&&r.ignoreCase==t.ignoreCase}if("object"!=typeof r||"object"!=typeof t)return!1;for(var g=e.length;g--;)if(e[g]==r)return n[g]==t;var o=r.constructor,a=t.constructor;if(o!==a&&!(A.isFunction(o)&&o instanceof o&&A.isFunction(a)&&a instanceof a)&&"constructor"in r&&"constructor"in t)return!1;e.push(r),n.push(t);var b=0,s=!0;if("[object Array]"==i){if(b=r.length,s=b==t.length)for(;b--&&(s=B(r[b],t[b],e,n)););}else{for(var u in r)if(A.has(r,u)&&(b++,!(s=A.has(t,u)&&B(r[u],t[u],e,n))))break;if(s){for(u in t)if(A.has(t,u)&&!b--)break;s=!b}}return e.pop(),n.pop(),s};A.isEqual=function(r,t){return B(r,t,[],[])},A.isEmpty=function(r){if(null==r)return!0;if(A.isArray(r)||A.isString(r))return 0===r.length;for(var t in r)if(A.has(r,t))return!1;return!0},A.isElement=function(r){return!(!r||1!==r.nodeType)},A.isArray=_||function(r){return"[object Array]"==l.call(r)},A.isObject=function(r){return r===Object(r)},M(["Arguments","Function","String","Number","Date","RegExp"],function(r){A["is"+r]=function(t){return l.call(t)=="[object "+r+"]"}}),A.isArguments(arguments)||(A.isArguments=function(r){return!(!r||!A.has(r,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(r){return"function"==typeof r}),A.isFinite=function(r){return isFinite(r)&&!isNaN(parseFloat(r))},A.isNaN=function(r){return A.isNumber(r)&&r!=+r},A.isBoolean=function(r){return r===!0||r===!1||"[object Boolean]"==l.call(r)},A.isNull=function(r){return null===r},A.isUndefined=function(r){return void 0===r},A.has=function(r,t){return u.call(r,t)},A.noConflict=function(){return r._=t,this},A.identity=function(r){return r},A.constant=function(r){return function(){return r}},A.property=function(r){return function(t){return t[r]}},A.matches=function(r){return function(t){if(t===r)return!0;for(var e in r)if(r[e]!==t[e])return!1;return!0}},A.times=function(r,t,e){for(var n=Array(Math.max(0,r)),i=0;r>i;i++)n[i]=t.call(e,i);return n},A.random=function(r,t){return null==t&&(t=r,r=0),r+Math.floor(Math.random()*(t-r+1))},A.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=A.invert(F.escape);var E={escape:new RegExp("["+A.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(F.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(r){A[r]=function(t){return null==t?"":(""+t).replace(E[r],function(t){return F[r][t]})}}),A.result=function(r,t){if(null==r)return void 0;var e=r[t];return A.isFunction(e)?e.call(r):e},A.mixin=function(r){M(A.functions(r),function(t){var e=A[t]=r[t];A.prototype[t]=function(){var r=[this._wrapped];return a.apply(r,arguments),Y.call(this,e.apply(A,r))}})};var R=0;A.uniqueId=function(r){var t=++R+"";return r?r+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(r,t,e){var n;e=A.defaults({},e,A.templateSettings);var i=new RegExp([(e.escape||T).source,(e.interpolate||T).source,(e.evaluate||T).source].join("|")+"|$","g"),g=0,o="__p+='";r.replace(i,function(t,e,n,i,a){return o+=r.slice(g,a).replace(P,function(r){return"\\"+N[r]}),e&&(o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),g=a+t.length,t}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return n(t,A);var b=function(r){return n.call(this,r,A)};return b.source="function("+(e.variable||"obj")+"){\n"+o+"}",b},A.chain=function(r){return A(r).chain()};var Y=function(r){return this._chain?A(r).chain():r};A.mixin(A),M(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var t=i[r];A.prototype[r]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!=r&&"splice"!=r||0!==e.length||delete e[0],Y.call(this,e)}}),M(["concat","join","slice"],function(r){var t=i[r];A.prototype[r]=function(){return Y.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof e&&e.amd&&e("underscore",[],function(){return A})}.call(this),e("core/manager",["underscore"],function(r){var t={data_frames:{},panes:[]};return t.addData=function(t,e){var n={};n[t]=e,r.extend(this.data_frames,n)},t.getData=function(r){return this.data_frames[r]},t.addPane=function(r){this.panes.push(r)},t.update=function(t){if(arguments.length>0){var e=r.filter(this.panes,function(r){return r.uuid==t});r.each(e,function(r){r.pane.update()})}else r.each(this.panes,function(r){r.pane.update()})},t}),function(){function r(r,t,e){var n=t&&e||0,i=0;for(t=t||[],r.toLowerCase().replace(/[0-9a-f]{2}/g,function(r){16>i&&(t[n+i++]=f[r])});16>i;)t[n+i++]=0;return t}function n(r,t){var e=t||0,n=d;return n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+"-"+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]+n[r[e++]]}function i(r,t,e){var i=t&&e||0,g=t||[];r=r||{};var o=null!=r.clockseq?r.clockseq:y,a=null!=r.msecs?r.msecs:(new Date).getTime(),b=null!=r.nsecs?r.nsecs:x+1,s=a-v+(b-x)/1e4;if(0>s&&null==r.clockseq&&(o=o+1&16383),(0>s||a>v)&&null==r.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,x=b,y=o,a+=122192928e5;var l=(1e4*(268435455&a)+b)%4294967296;g[i++]=l>>>24&255,g[i++]=l>>>16&255,g[i++]=l>>>8&255,g[i++]=255&l;var u=a/4294967296*1e4&268435455;g[i++]=u>>>8&255,g[i++]=255&u,g[i++]=u>>>24&15|16,g[i++]=u>>>16&255,g[i++]=o>>>8|128,g[i++]=255&o;for(var c=r.node||m,d=0;6>d;d++)g[i+d]=c[d];return t?t:n(g)}function g(r,t,e){var i=t&&e||0;"string"==typeof r&&(t="binary"==r?new c(16):null,r=null),r=r||{};var g=r.random||(r.rng||o)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,t)for(var a=0;16>a;a++)t[i+a]=g[a];return t||n(g)}var o,a=this;if("function"==typeof t)try{var b=t("crypto").randomBytes;o=b&&function(){return b(16)}}catch(s){}if(!o&&a.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);o=function(){return crypto.getRandomValues(l),l}}if(!o){var u=new Array(16);o=function(){for(var r,t=0;16>t;t++)0===(3&t)&&(r=4294967296*Math.random()),u[t]=r>>>((3&t)<<3)&255;return u}}for(var c="function"==typeof Buffer?Buffer:Array,d=[],f={},p=0;256>p;p++)d[p]=(p+256).toString(16).substr(1),f[d[p]]=p;var h=o(),m=[1|h[0],h[1],h[2],h[3],h[4],h[5]],y=16383&(h[6]<<8|h[7]),v=0,x=0,_=g;if(_.v1=i,_.v4=g,_.parse=r,_.unparse=n,_.BufferClass=c,"function"==typeof e&&e.amd)e("node-uuid",[],function(){return _});else if("undefined"!=typeof module&&module.exports)module.exports=_;else{var w=a.uuid;_.noConflict=function(){return a.uuid=w,_},a.uuid=_}}.call(this),e("view/components/legend/simple_legend",["underscore","core/manager"],function(r){function t(t,e){var n={title:"",width:150,height:22,title_height:15,mode:"normal"};return arguments.length>1&&r.extend(n,e),this.model=d3.select(document.createElementNS("http://www.w3.org/2000/svg","g")),this.options=n,this.data=t,this}return t.prototype.width=function(){return this.options.width},t.prototype.height=function(){return this.options.height*(this.data.length+1)},t.prototype.getDomObject=function(){var r=this.model,t=this.options;r.append("text").attr("x",12).attr("y",t.height).attr("font-size","14").text(t.title);var e=this.model.selectAll("g").data(this.data).enter().append("g"),n=e.append("circle").attr("cx","8").attr("cy",function(r,e){return t.height*(e+1)}).attr("r","6").attr("stroke",function(r){return r.color}).attr("stroke-width","2").attr("fill",function(r){return r.color}).attr("fill-opacity",function(r){return"off"==r.mode?0:1});switch(t.mode){case"normal":n.on("click",function(r){if(r.on||r.off){var t=d3.select(this);1==t.attr("fill-opacity")?(t.attr("fill-opacity",0),r.off()):(t.attr("fill-opacity",1),r.on())}});break;case"radio":n.on("click",function(r){var t=d3.select(this);if(0==t.attr("fill-opacity")){var e=this;n.filter(function(r){return this!=e&&!(!r.on&&!r.off)}).attr("fill-opacity",0),t.attr("fill-opacity",1),r.on()}})}return n.style("cursor",function(r){return void 0==r.on&&void 0==r.off?"default":"pointer"}),e.append("text").attr("x","18").attr("y",function(r,e){return t.height*(e+1)+4}).attr("font-size","12").text(function(r){return r.label}),r},t}),e("view/diagrams/bar",["underscore","node-uuid","core/manager","view/components/legend/simple_legend"],function(r,t,e,n){function i(t,n,i,g){var o={value:null,x:null,y:null,width:.9,color:null,hover:!0,tooltip_contents:null,tooltip:null};arguments.length>3&&r.extend(o,g);var a,b=e.getData(i);a=null==o.color?d3.scale.category20b():d3.scale.ordinal().range(o.color),this.color_scale=a;var s,l=t.append("g"),u=[];if(null!=o.value){var c=b.column(o.value);s=r.uniq(c)}else s=b.column(o.x);return r.each(s,function(r){u.push({label:r,color:a(r)})}),this.model=l,this.scales=n,this.options=o,this.legend_data=u,this.df=b,this.df_id=i,this.uuid=o.uuid,this}return i.prototype.update=function(){var r;if(null!==this.options.value){var t=this.df.columnWithFilters(this.uuid,this.options.value),e=this.countData(t);r=this.processData(e.x,e.y,this.options)}else{var n=this.df.columnWithFilters(this.uuid,this.options.x),i=this.df.columnWithFilters(this.uuid,this.options.y);r=this.processData(n,i,this.options)}var g=this.model.selectAll("rect").data(r);void 0==g[0][0]&&g.enter().append("rect").attr("height",0).attr("y",this.scales.get(0,0).y),this.updateModels(g,this.scales,this.options)},i.prototype.processData=function(t,e){return r.map(r.zip(t,e),function(r){return{x:r[0],y:r[1]}})},i.prototype.updateModels=function(r,e,n){var i=this.color_scale,g=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(i(r.x)).darker(1)});var r=d3.select(this).attr("id");n.tooltip.addToYAxis(r,this.__data__.y),n.tooltip.update()},o=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return i(r.x)});d3.select(this).attr("id");n.tooltip.reset()},a=e.raw.x.rangeBand()*n.width,b=e.raw.x.rangeBand()*((1-n.width)/2);r.attr("x",function(r){return e.get(r.x,r.y).x+b}).attr("width",a).attr("fill",function(r){return i(r.x)}).transition().duration(200).attr("y",function(r){return e.get(r.x,r.y).y}).attr("height",function(r){return e.get(0,0).y-e.get(0,r.y).y}).attr("id",t.v4()),n.hover&&r.on("mouseover",g).on("mouseout",o)},i.prototype.getLegend=function(){return new n(this.legend_data)},i.prototype.countData=function(t){var e={};return r.each(t,function(r){e[r]=e[r]||0,e[r]+=1}),{x:r.keys(e),y:r.values(e)}},i.prototype.checkSelectedData=function(){},i}),e("view/components/filter",["underscore","core/manager"],function(r){function t(t,e,n,i){var g={opacity:.125,color:"gray"};arguments.length>2&&r.extend(g,i);var o=function(){var r={x:a.empty()?e.domain().x:a.extent(),y:e.domain().y};n(r)},a=d3.svg.brush().x(e.raw.x).on("brushend",o),b=t.append("g"),s=d3.max(e.range().y)-d3.min(e.range().y),l=d3.min(e.range().y);return b.call(a).selectAll("rect").attr("y",l).attr("height",s).style("fill-opacity",g.opacity).style("fill",g.color).style("shape-rendering","crispEdges"),this}return t}),e("view/diagrams/histogram",["underscore","node-uuid","core/manager","view/components/filter","view/components/legend/simple_legend"],function(r,t,e,n,i){function g(t,n,i,g){var o={title:"histogram",value:null,bin_num:20,width:.9,color:"steelblue",stroke_color:"black",stroke_width:1,hover:!0,tooltip:null};arguments.length>3&&r.extend(o,g);var a=e.getData(i),b=t.append("g");return this.scales=n,this.legends=[{label:o.title,color:o.color}],this.options=o,this.model=b,this.df=a,this.uuid=o.uuid,this}return g.prototype.update=function(){var r=this.df.columnWithFilters(this.uuid,this.options.value),t=this.processData(r,this.options),e=this.model.selectAll("rect").data(t);void 0==e[0][0]&&(e=e.enter().append("rect").attr("height",0).attr("y",this.scales.get(0,0).y)),this.updateModels(e,this.scales,this.options)},g.prototype.processData=function(r,t){return d3.layout.histogram().bins(this.scales.raw.x.ticks(t.bin_num))(r)},g.prototype.updateModels=function(r,e,n){var i=function(){d3.select(this).transition().duration(200).attr("fill",d3.rgb(n.color).darker(1));var r=d3.select(this).attr("id");n.tooltip.addToYAxis(r,this.__data__.y,3),n.tooltip.update()},g=function(){d3.select(this).transition().duration(200).attr("fill",n.color);d3.select(this).attr("id");n.tooltip.reset()};r.attr("x",function(r){return e.get(r.x,0).x}).attr("width",function(r){return e.get(r.dx,0).x-e.get(0,0).x}).attr("fill",n.color).attr("stroke",n.stroke_color).attr("stroke-width",n.stroke_width).transition().duration(200).attr("y",function(r){return e.get(0,r.y).y}).attr("height",function(r){return e.get(0,0).y-e.get(0,r.y).y}).attr("id",t.v4()),n.hover&&r.on("mouseover",i).on("mouseout",g)},g.prototype.getLegend=function(){return new i(this.legend_data)},g.prototype.checkSelectedData=function(r){var t=this.options.value,n=function(e){var n=e[t];return n>r.x[0]&&n<r.x[1]?!0:!1};this.df.addFilter(this.uuid,n,["self"]),e.update()},g}),e("view/diagrams/scatter",["underscore","node-uuid","core/manager","view/components/filter","view/components/legend/simple_legend"],function(r,t,e,n,i){function g(t,n,i,g){var o={title:"scatter",x:null,y:null,fill_by:null,shape_by:null,size_by:null,color:["#4682B4","#000000"],shape:["circle","triangle-up","diamond","square","triangle-down","cross"],size:[100,1e3],stroke_color:"black",stroke_width:1,hover:!0,tooltip_contents:[],tooltip:null};arguments.length>3&&r.extend(o,g),this.scales=n;var a=e.getData(i),b=t.append("g");return this.legend_data=function(r){var t=function(){r.render=!0,r.update()},e=function(){r.render=!1,r.update()};return[{label:o.title,color:o.color,on:t,off:e}]}(this),this.render=!0,this.options=o,this.model=b,this.df=a,this.uuid=o.uuid,this}return g.prototype.update=function(){var r=this.processData(this.options);if(this.options.tooltip.reset(),this.render){var t=this.model.selectAll("path").data(r).enter().append("path");this.updateModels(t,this.scales,this.options)}else this.model.selectAll("path").remove()},g.prototype.processData=function(t){var e=this.df,n=["x","y","fill","size","shape"],i=r.map(["x","y"],function(r){return e.column(t[r])}),g=i[0].length;if(r.each([{column:"fill_by",val:"color"},{column:"size_by",val:"size"},{column:"shape_by",val:"shape"}],function(n){if(t[n.column]){var o=e.scale(t[n.column],t[n.val]);i.push(r.map(e.column(t[n.column]),function(r){return o(r)}))}else i.push(r.map(r.range(1,g,1),function(){return r.isArray(t[n.val])?t[n.val][0]:t[n.val]}))}),t.tooltip_contents.length>0){var o=e.getPartialDf(t.tooltip_contents);n.push("tt"),i.push(o)}return r.map(r.zip.apply(null,i),function(t){return r.reduce(t,function(r,t,e){return r[n[e]]=t,r},{})})},g.prototype.updateModels=function(r,t,e){var n=this.uuid,i=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(r.fill).darker(1)}),e.tooltip.addToXAxis(n,this.__data__.x,3),e.tooltip.addToYAxis(n,this.__data__.y,3),e.tooltip_contents.length>0&&e.tooltip.add(n,this.__data__.x,this.__data__.y,"top",this.__data__.tt),e.tooltip.update()},g=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return r.fill}),e.tooltip.reset()};r.attr("transform",function(r){return"translate("+t.get(r.x,r.y).x+","+t.get(r.x,r.y).y+")"}).attr("fill",function(r){return r.fill}).attr("stroke",e.stroke_color).attr("stroke-width",e.stroke_width).transition().duration(200).attr("d",d3.svg.symbol().type(function(r){return r.shape}).size(function(r){return r.size})),e.hover&&r.on("mouseover",i).on("mouseout",g)},g.prototype.getLegend=function(){return new i(this.legend_data)},g.prototype.checkSelectedData=function(){},g}),e("view/diagrams/line",["underscore","core/manager","view/components/filter","view/components/legend/simple_legend"],function(r,t,e,n){function i(e,n,i,g){var o={x:null,y:null,title:"line",color:"steelblue",stroke_width:2};arguments.length>3&&r.extend(o,g),this.scales=n;var a=t.getData(i),b=e.append("g");return this.legend_data=function(r){var t=function(){r.render=!0,r.update()},e=function(){r.render=!1,r.update()};return[{label:o.title,color:o.color,on:t,off:e}]}(this),this.render=!0,this.options=o,this.model=b,this.df=a,this.df_id=i,this}return i.prototype.update=function(){if(this.render){var r=this.processData(this.df.column(this.options.x),this.df.column(this.options.y),this.options);this.model.selectAll("path").remove();var t=this.model.append("path").datum(r);this.updateModels(t,this.scales,this.options)}else this.model.selectAll("path").remove()},i.prototype.processData=function(t,e){return r.map(r.zip(t,e),function(r){return{x:r[0],y:r[1]}})},i.prototype.updateModels=function(r,t,e){var n=d3.svg.line().x(function(r){return t.get(r.x,r.y).x}).y(function(r){return t.get(r.x,r.y).y});r.attr("d",n).attr("stroke",e.color).attr("stroke-width",e.stroke_width).attr("fill","none")},i.prototype.getLegend=function(){var r=new n(this.legend_data);return r},i.prototype.checkSelectedData=function(){},i}),e("utils/simplex",["underscore"],function(r){function t(t){var e=[];return r.each(r.zip.apply(null,t),function(t,n){e[n]=0,r.each(t,function(r){e[n]+=r}),e[n]=e[n]/t.length}),e}function e(n,s){n=r.sortBy(n,function(r){return s(r)});for(var l=n.length,u=n[0].length,c=n[l-1],d=n[l-2],f=n[0],p=t(n.concat().splice(0,l-1)),h=[],m=0;u>m;m++)h[m]=2*p[m]-c[m];if(s(h)>=s(c))for(var m=0;u>m;m++)n[l-1][m]=(1-i)*c[m]+i*h[m];else if(s(h)<(s(f)+(g-1)*s(c))/g){for(var y=[],m=0;u>m;m++)y[m]=g*h[m]-(g-1)*c[m];n[l-1]=s(y)<=s(h)?y:h}else n[l-1]=h;s(n[l-1])>=s(d)&&r.each(n,function(r,t){for(var e=0;u>e;e++)n[t][e]=.5*(r[e]+f[e])});var v=0;return r.each(n,function(r){v+=Math.pow(s(r)-s(f),2)}),o>v?n[l-1]:(a++,a>b?n[l-1]:e(n,s))}function n(t,n){var i=1,g=t.length,o=[t];return r.each(r.range(g),function(r){var e=t.concat();e[r]+=i,o.push(e)}),e(o,n)}var i=.7,g=1.5,o=1e-20,a=0,b=2e3;return n}),e("view/diagrams/venn",["underscore","core/manager","view/components/filter","view/components/legend/simple_legend","utils/simplex"],function(r,t,e,n,i){function g(e,i,g,o){var a={category:null,count:null,color:null,stroke_color:"#000",stroke_width:1,opacity:.7,hover:!1,area_names:["VENN1","VENN2","VENN3"],filter_control:!1};arguments.length>3&&r.extend(a,o);var b,s=t.getData(g),l=e.append("g"),u=s.column(a.category),c=r.uniq(u);b=null==a.color?d3.scale.category20().domain(a.area_names):d3.scale.ordinal().range(a.color).domain(a.area_names),this.color_scale=b;for(var d=[],f=[[c[0]],[c[1]],[c[2]]],p=this.update,h=this.tellUpdate,m=this,y=0;3>y;y++){var v=[];v.push({label:a.area_names[y],color:b(a.area_names[y])}),r.each(c,function(r){var t=y,e=function(){f[t].push(r),p.call(m),h.call(m)},n=function(){var e=f[t].indexOf(r);f[t].splice(e,1),p.call(m),h.call(m)},i=r==f[y]?"on":"off";v.push({label:r,color:"black",mode:i,on:e,off:n})}),d.push(new n(v))}var x="all";if(a.filter_control){var v=[],_=["all","overlapping","non-overlapping"],w=x;
v.push({label:"Filter",color:"gray"}),r.each(_,function(r){var t=function(){m.filter_mode=r,p.call(m),h.call(m)},e=r==w?"on":"off";v.push({label:r,color:"black",on:t,off:function(){},mode:e})}),d.push(new n(v,{mode:"radio"}))}return this.selected_category=f,this.filter_mode=x,this.legend_data=d,this.options=a,this.scales=i,this.model=l,this.df_id=g,this.df=s,this.uuid=a.uuid,this.tellUpdate(),this}return g.prototype.getScales=function(t,e){var n=r.max(e.range().x)-r.min(e.range().x),i=r.max(e.range().y)-r.min(e.range().y),g={min:function(){var e=r.min(t.pos,function(r){return r.x-r.r});return e.x-e.r}(),max:function(){var e=r.max(t.pos,function(r){return r.x+r.r});return e.x+e.r}()},o={min:function(){var e=r.min(t.pos,function(r){return r.y-r.r});return e.y-e.r}(),max:function(){var e=r.max(t.pos,function(r){return r.y+r.r});return e.y+e.r}()},a=g.max-g.min,b=o.max-o.min,s=0;if(n/i>a/b){s=b/i;var l=s*n;g.min-=(l-a)/2,g.max+=(l-a)/2}else{s=a/n;var u=s*i;b.min-=(u-b)/2,b.max+=(u-b)/2}var c={};return c.x=d3.scale.linear().range(e.range().x).domain([g.min,g.max]),c.y=d3.scale.linear().range(e.range().y).domain([o.min,o.max]),c.r=d3.scale.linear().range([0,100]).domain([0,100*s]),c},g.prototype.update=function(){var r=this.df.columnWithFilters(this.uuid,this.options.count),t=this.df.columnWithFilters(this.uuid,this.options.category),e=this.processData(t,r,this.selected_category),n=this.getScales(e,this.scales),i=this.model.selectAll("circle").data(e.pos),g=this.model.selectAll("text").data(e.labels);void 0==i[0][0]&&(i=i.enter().append("circle")),void 0==g[0][0]&&(g=g.enter().append("text")),this.counted_items=e.counted_items,this.updateModels(i,n,this.options),this.updateLabels(g,n,this.options)},g.prototype.processData=function(t,e,n){for(var g=(function(){for(var i=[],g=function(){var i={};return r.each(r.zip(t,e),function(t){void 0==i[t[1]]&&(i[t[1]]={}),r.each(n,function(r,e){-1!=r.indexOf(t[0])&&(i[t[1]][e]=!0)})}),i}(),o=(function(t){var e=0;return r.each(r.values(g),function(n){r.some(t,function(r){return!(r in n)})||e++}),e}),a=0;3>a;a++){i[a]=[],i[a][a]=o([a]);for(var b=a+1;3>b;b++){var s=o([a,b]);i[a][b]=s}}return{table:i,counted_items:g}}()),o=g.table,a=g.counted_items,b=r.map(o,function(r,t){return Math.sqrt(o[t][t]/(2*Math.PI))}),s=function(t){for(var e=0,n=0;n<t.length;n+=2)for(var i=n+2;i<t.length;i+=2){var g=t[n],a=t[n+1],s=t[i],l=t[i+1],u=b[n/2],c=b[i/2],d=Math.sqrt(Math.pow(g-s,2)+Math.pow(a-l,2)),f=0;d>u+c?f=0:r.each([[u,c],[c,u]],function(r){var t=Math.acos((r[1]*r[1]-r[0]*r[0]+d*d)/(2*r[1]*d)),e=r[n]*r[n]*t-.5*r[1]*r[1]*Math.sin(2*t);f+=e}),e+=Math.pow(o[n/2][i/2]-f,2)}return e},l=function(){var t=[],e=o[0].length,n=r.max(o,function(r,t){for(var e=0,n=0;t>n;n++)e+=o[n][t];for(var n=t+1;n<r.length;n++)e+=o[t][n];return e}),i=e-n.length;t[2*i]=0,t[2*i+1]=0;for(var g=0,a=Math.PI/(1.5*(e-1)),s=0;e>s;s++)if(s!=i){var l=b[i]+b[s]/2;t[2*s]=l*Math.sin(g),t[2*s+1]=l*Math.cos(g),g+=a}return t}(),u=i(l,s),c=[],d=[],f=0;f<u.length;f+=2)c.push({x:u[f],y:u[f+1],r:b[f/2],id:f});for(var f=0;3>f;f++){d.push({x:u[2*f],y:u[2*f+1],val:o[f][f]});for(var p=f+1;3>p;p++){var h=(u[2*f]+u[2*p])/2,m=(u[2*f+1]+u[2*p+1])/2;d.push({x:h,y:m,val:o[f][p]})}}return{pos:c,labels:d,counted_items:a}},g.prototype.updateModels=function(r,t,e){var n=this.color_scale,i=this.options.area_names;if(r.attr("cx",function(r){return t.x(r.x)}).attr("cy",function(r){return t.y(r.y)}).attr("stroke",e.stroke_color).attr("stroke-width",e.stroke_width).attr("fill",function(r){return n(i[r.id])}).attr("fill-opacity",e.opacity).transition().duration(500).attr("r",function(r){return t.r(r.r)}),e.hover){var g=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(n(i[r.id])).darker(1)})},o=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return n(i[r.id])})};r.on("mouseover",g).on("mouseout",o)}},g.prototype.updateLabels=function(r,t){r.attr("x",function(r){return t.x(r.x)}).attr("y",function(r){return t.y(r.y)}).attr("text-anchor","middle").text(function(r){return String(r.val)})},g.prototype.getLegend=function(){return this.legend_data},g.prototype.tellUpdate=function(){var e=this.selected_category,n=this.counted_items,i=this.filter_mode,g=this.options.category,o=this.options.count,a={all:function(t){return r.some(e,function(r){return-1!=r.indexOf(t[g])?!0:!1})},overlapping:function(t){if(!r.some(e,function(r){return-1!=r.indexOf(t[g])?!0:!1}))return!1;for(var i=0;3>i;i++)for(var a=i+1;3>a;a++)if(n[t[o]][i]&&n[t[o]][a])return!0;return!1},"non-overlapping":function(t){if(!r.some(e,function(r){return-1!=r.indexOf(t[g])?!0:!1}))return!1;for(var i=0;3>i;i++)for(var a=i+1;3>a;a++)if(n[t[o]][i]&&n[t[o]][a])return!1;return!0}}[i];this.df.addFilter(this.uuid,a,["self"]),t.update()},g}),e("view/diagrams/multiple_venn",["underscore","core/manager","view/components/filter","utils/simplex"],function(r,t,e,n){function i(e,n,i,g){var o={category:null,count:null,color:null,stroke_color:"#000",stroke_width:1,opacity:.7,hover:!1};arguments.length>3&&r.extend(o,g),this.getScales=function(t,e){var n=r.max(e.x.range())-r.min(e.x.range()),i=r.max(e.y.range())-r.min(e.y.range()),g={min:function(){var e=r.min(t.pos,function(r){return r.x-r.r});return e.x-e.r}(),max:function(){var e=r.max(t.pos,function(r){return r.x+r.r});return e.x+e.r}()},o={min:function(){var e=r.min(t.pos,function(r){return r.y-r.r});return e.y-e.r}(),max:function(){var e=r.max(t.pos,function(r){return r.y+r.r});return e.y+e.r}()},a=g.max-g.min,b=o.max-o.min,s=0;if(n/i>a/b){s=b/i;var l=s*n;g.min-=(l-a)/2,g.max+=(l-a)/2}else{s=a/n;var u=s*i;b.min-=(u-b)/2,b.max+=(u-b)/2}var c={};return c.x=d3.scale.linear().range(e.x.range()).domain([g.min,g.max]),c.y=d3.scale.linear().range(e.y.range()).domain([o.min,o.max]),c.r=d3.scale.linear().range([0,100]).domain([0,100*s]),c};var a=t.getData(i),b=this.processData(a.column(o.category),a.column(o.count)),s=this.getScales(b,n),l=e.append("g"),u=l.selectAll("circle").data(b.pos).enter().append("circle"),c=l.selectAll("text").data(b.labels).enter().append("text");this.color_scale=null==o.color?d3.scale.category20():d3.scale.ordinal().range(o.color);var d=this.color_scale;this.updateModels(u,s,o),this.updateLabels(c,s,o);var f=[];return r.each(b.pos,function(r){f.push({label:r.name,color:d(r.name)})}),this.legends=f,this.scales=n,this.options=o,this.model=l,this.df=a,this.df_id=i,this}return i.prototype.processData=function(t,e){for(var i=r.uniq(t),g=(function(){for(var n=[],g=function(){var n={};return r.each(r.zip(t,e),function(r){void 0==n[r[1]]&&(n[r[1]]={}),n[r[1]][r[0]]=!0}),r.values(n)}(),o=(function(t){var e=0;return r.each(g,function(n){r.some(t,function(r){return!(r in n)})||e++}),e}),a=0;a<i.length;a++){n[a]=[],n[a][a]=o([i[a]]);for(var b=a+1;b<i.length;b++){var s=o([i[a],i[b]]);n[a][b]=s}}return n}()),o=r.map(g,function(r,t){return Math.sqrt(g[t][t]/(2*Math.PI))}),a=function(t){for(var e=0,n=0;n<t.length;n+=2)for(var i=n+2;i<t.length;i+=2){var a=t[n],b=t[n+1],s=t[i],l=t[i+1],u=o[n/2],c=o[i/2],d=Math.sqrt(Math.pow(a-s,2)+Math.pow(b-l,2)),f=0;d>u+c?f=0:r.each([[u,c],[c,u]],function(r){var t=Math.acos((r[1]*r[1]-r[0]*r[0]+d*d)/(2*r[1]*d)),e=r[n]*r[n]*t-.5*r[1]*r[1]*Math.sin(2*t);f+=e}),e+=Math.pow(g[n/2][i/2]-f,2)}return e},b=function(){var t=[],e=g[0].length,n=r.max(g,function(r,t){for(var e=0,n=0;t>n;n++)e+=g[n][t];for(var n=t+1;n<r.length;n++)e+=g[t][n];return e}),i=e-n.length;t[2*i]=0,t[2*i+1]=0;for(var a=0,b=Math.PI/(1.5*(e-1)),s=0;e>s;s++)if(s!=i){var l=o[i]+o[s]/2;t[2*s]=l*Math.sin(a),t[2*s+1]=l*Math.cos(a),a+=b}return t}(),s=n(b,a),l=[],u=[],c=0;c<s.length;c+=2)l.push({x:s[c],y:s[c+1],r:o[c/2],name:i[c/2]});for(var c=0;c<i.length;c++){u.push({x:s[2*c],y:s[2*c+1],val:g[c][c]});for(var d=c+1;d<i.length;d++){var f=(s[2*c]+s[2*d])/2,p=(s[2*c+1]+s[2*d+1])/2;u.push({x:f,y:p,val:g[c][d]})}}return{pos:l,labels:u}},i.prototype.updateModels=function(r,t,e){var n=this.color_scale,i=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(n(r.name)).darker(1)})},g=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return n(r.name)})};r.attr("cx",function(r){return t.x(r.x)}).attr("cy",function(r){return t.y(r.y)}).attr("stroke",e.stroke_color).attr("stroke-width",e.stroke_width).attr("fill",function(r){return n(r.name)}).attr("fill-opacity",e.opacity).transition().duration(500).attr("r",function(r){return t.r(r.r)}),e.hover&&r.on("mouseover",i).on("mouseout",g)},i.prototype.updateLabels=function(r,t){r.attr("x",function(r){return t.x(r.x)}).attr("y",function(r){return t.y(r.y)}).attr("text-anchor","middle").text(function(r){return String(r.val)})},i.prototype.selected=function(r,t){var e=this.df.pickUpCells(this.options.count,t),n=this.df.pickUpCells(this.options.category,t),r=this.processData(n,e,this.options),i=this.getScales(r,this.scales),g=this.model.selectAll("circle").data(r.pos),o=this.model.selectAll("text").data(r.labels);this.updateModels(g,i,this.options),this.updateLabels(o,i,this.options)},i.prototype.update=function(){},i.prototype.checkSelectedData=function(){},i}),e("view/diagrams/box.js",["underscore","node-uuid","core/manager","view/components/filter","view/components/legend/simple_legend"],function(r,t,e,n){function i(t,n,i,g){var o={title:"",value:[],width:.9,color:null,stroke_color:"black",stroke_width:1,outlier_r:3,tooltip_contents:[],tooltip:null};arguments.length>3&&r.extend(o,g);var a,b=t.append("g"),s=e.getData(i);return a=null==o.color?d3.scale.category20b():d3.scale.ordinal().range(o.color),this.model=b,this.scales=n,this.options=o,this.df=s,this.color_scale=a,this.uuid=o.uuid,this}return i.prototype.update=function(){var t=this.uuid,e=this.processData,n=this.df,i=[];r.each(this.options.value,function(g){var o=n.columnWithFilters(t,g);i.push(r.extend(e(o),{x:g}))});var g=this.model.selectAll("g").data(i);g.enter().append("g"),this.updateModels(g,this.scales,this.options)},i.prototype.processData=function(t){var e=function(r){var t=r.length;return t%2==1?r[Math.floor(t/2)]:(r[t/2]+r[t/2+1])/2},n=r.sortBy(t),i=e(n),g=e(n.slice(0,n.length/2-1)),o=e(n.slice(n.length%2==0?n.length/2:n.length/2+1,n.length-1)),a=o-g,b=r.max(n)-o>1.5*a?o+1.5*a:r.max(n),s=g-r.min(n)>1.5*a?g-1.5*a:r.min(n),l=r.filter(n,function(r){return r>b||s>r});return{med:i,q1:g,q3:o,max:b,min:s,outlier:l}},i.prototype.updateModels=function(r,e,n){var i=e.raw.x.rangeBand()*n.width,g=e.raw.x.rangeBand()*((1-n.width)/2),o=this.color_scale,a=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(o(r.x)).darker(1)});var r=d3.select(this).attr("id");n.tooltip.addToYAxis(r,this.__data__.min,3),n.tooltip.addToYAxis(r,this.__data__.q1,3),n.tooltip.addToYAxis(r,this.__data__.med,3),n.tooltip.addToYAxis(r,this.__data__.q3,3),n.tooltip.addToYAxis(r,this.__data__.max,3),n.tooltip.update()},b=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(o(r.x))});d3.select(this).attr("id");n.tooltip.reset()};r.append("line").attr("x1",function(r){return e.get(r.x,0).x+i/2+g}).attr("y1",function(r){return e.get(r.x,r.max).y}).attr("x2",function(r){return e.get(r.x,0).x+i/2+g}).attr("y2",function(r){return e.get(r.x,r.min).y}).attr("stroke",n.stroke_color),r.append("rect").attr("x",function(r){return e.get(r.x,0).x+g}).attr("y",function(r){return e.get(r.x,r.q3).y}).attr("height",function(r){return e.get(r.x,r.q1).y-e.get(r.x,r.q3).y}).attr("width",i).attr("fill",function(r){return o(r.x)}).attr("stroke",n.stroke_color).attr("id",t.v4()).on("mouseover",a).on("mouseout",b),r.append("line").attr("x1",function(r){return e.get(r.x,0).x+g}).attr("y1",function(r){return e.get(r.x,r.med).y}).attr("x2",function(r){return e.get(r.x,0).x+i+g}).attr("y2",function(r){return e.get(r.x,r.med).y}).attr("stroke",n.stroke_color),r.append("g").each(function(r){d3.select(this).selectAll("circle").data(r.outlier).enter().append("circle").attr("cx",function(){return e.get(r.x,0).x+i/2+g}).attr("cy",function(t){return e.get(r.x,t).y}).attr("r",n.outlier_r)})},i.prototype.getLegend=function(){return new n(this.legend_data)},i.prototype.checkSelectedData=function(){},i}),e("view/components/legend/color_bar",["underscore"],function(r){function t(t,e){var n={width:150,height:200};arguments.length>1&&r.extend(n,e),this.options=n,this.model=d3.select(document.createElementNS("http://www.w3.org/2000/svg","g")),this.color_scale=t}return t.prototype.width=function(){return this.options.width},t.prototype.height=function(){return this.options.height},t.prototype.getDomObject=function(){for(var r=this.model,t=this.color_scale,e=t.range(),n=t.domain(),i=d3.scale.linear().domain(d3.extent(n)).range([this.options.height,0]),g=r.append("svg:defs").append("svg:linearGradient").attr("id","gradient").attr("x1","0%").attr("x2","0%").attr("y1","100%").attr("y2","0%"),o=0;o<e.length;o++)g.append("svg:stop").attr("offset",100/(e.length-1)*o+"%").attr("stop-color",e[o]);var a=r.append("g");return a.append("svg:rect").attr("y",10).attr("width","25").attr("height",this.options.height).style("fill","url(#gradient)"),r.append("g").attr("width","100").attr("height",this.options.height).attr("class","axis").attr("transform","translate(25,10)").call(d3.svg.axis().scale(i).orient("right").ticks(5)),r.selectAll(".axis").selectAll("path").style("fill","none").style("stroke","black").style("shape-rendering","crispEdges"),r.selectAll(".axis").selectAll("line").style("fill","none").style("stroke","black").style("shape-rendering","crispEdges"),r.selectAll(".axis").selectAll("text").style("font-family","san-serif").style("font-size","11px"),r},t}),e("colorbrewer",[],function(){return{Spectral:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(153,213,148)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,221,164)","rgb(43,131,186)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,221,164)","rgb(43,131,186)"],6:["rgb(213,62,79)","rgb(252,141,89)","rgb(254,224,139)","rgb(230,245,152)","rgb(153,213,148)","rgb(50,136,189)"],7:["rgb(213,62,79)","rgb(252,141,89)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(153,213,148)","rgb(50,136,189)"],8:["rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)"],9:["rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)"],10:["rgb(158,1,66)","rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)","rgb(94,79,162)"],11:["rgb(158,1,66)","rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)","rgb(94,79,162)"],type:"div"},RdYlGn:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,207,96)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(166,217,106)","rgb(26,150,65)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(166,217,106)","rgb(26,150,65)"],6:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,139)","rgb(217,239,139)","rgb(145,207,96)","rgb(26,152,80)"],7:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(145,207,96)","rgb(26,152,80)"],8:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)"],9:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)"],10:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)","rgb(0,104,55)"],11:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)","rgb(0,104,55)"],type:"div"},RdBu:{3:["rgb(239,138,98)","rgb(247,247,247)","rgb(103,169,207)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(146,197,222)","rgb(5,113,176)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(247,247,247)","rgb(146,197,222)","rgb(5,113,176)"],6:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(209,229,240)","rgb(103,169,207)","rgb(33,102,172)"],7:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(103,169,207)","rgb(33,102,172)"],8:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)"],9:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)"],10:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],11:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],type:"div"},PiYG:{3:["rgb(233,163,201)","rgb(247,247,247)","rgb(161,215,106)"],4:["rgb(208,28,139)","rgb(241,182,218)","rgb(184,225,134)","rgb(77,172,38)"],5:["rgb(208,28,139)","rgb(241,182,218)","rgb(247,247,247)","rgb(184,225,134)","rgb(77,172,38)"],6:["rgb(197,27,125)","rgb(233,163,201)","rgb(253,224,239)","rgb(230,245,208)","rgb(161,215,106)","rgb(77,146,33)"],7:["rgb(197,27,125)","rgb(233,163,201)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(161,215,106)","rgb(77,146,33)"],8:["rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)"],9:["rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)"],10:["rgb(142,1,82)","rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)","rgb(39,100,25)"],11:["rgb(142,1,82)","rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)","rgb(39,100,25)"],type:"div"},PRGn:{3:["rgb(175,141,195)","rgb(247,247,247)","rgb(127,191,123)"],4:["rgb(123,50,148)","rgb(194,165,207)","rgb(166,219,160)","rgb(0,136,55)"],5:["rgb(123,50,148)","rgb(194,165,207)","rgb(247,247,247)","rgb(166,219,160)","rgb(0,136,55)"],6:["rgb(118,42,131)","rgb(175,141,195)","rgb(231,212,232)","rgb(217,240,211)","rgb(127,191,123)","rgb(27,120,55)"],7:["rgb(118,42,131)","rgb(175,141,195)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(127,191,123)","rgb(27,120,55)"],8:["rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)"],9:["rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)"],10:["rgb(64,0,75)","rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)","rgb(0,68,27)"],11:["rgb(64,0,75)","rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)","rgb(0,68,27)"],type:"div"},RdYlBu:{3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,191,219)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,217,233)","rgb(44,123,182)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,217,233)","rgb(44,123,182)"],6:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,144)","rgb(224,243,248)","rgb(145,191,219)","rgb(69,117,180)"],7:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(145,191,219)","rgb(69,117,180)"],8:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)"],9:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)"],10:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)","rgb(49,54,149)"],11:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)","rgb(49,54,149)"],type:"div"},BrBG:{3:["rgb(216,179,101)","rgb(245,245,245)","rgb(90,180,172)"],4:["rgb(166,97,26)","rgb(223,194,125)","rgb(128,205,193)","rgb(1,133,113)"],5:["rgb(166,97,26)","rgb(223,194,125)","rgb(245,245,245)","rgb(128,205,193)","rgb(1,133,113)"],6:["rgb(140,81,10)","rgb(216,179,101)","rgb(246,232,195)","rgb(199,234,229)","rgb(90,180,172)","rgb(1,102,94)"],7:["rgb(140,81,10)","rgb(216,179,101)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(90,180,172)","rgb(1,102,94)"],8:["rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)"],9:["rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)"],10:["rgb(84,48,5)","rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)","rgb(0,60,48)"],11:["rgb(84,48,5)","rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)","rgb(0,60,48)"],type:"div"},RdGy:{3:["rgb(239,138,98)","rgb(255,255,255)","rgb(153,153,153)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(186,186,186)","rgb(64,64,64)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(255,255,255)","rgb(186,186,186)","rgb(64,64,64)"],6:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(224,224,224)","rgb(153,153,153)","rgb(77,77,77)"],7:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(153,153,153)","rgb(77,77,77)"],8:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)"],9:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)"],10:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)","rgb(26,26,26)"],11:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)","rgb(26,26,26)"],type:"div"},PuOr:{3:["rgb(241,163,64)","rgb(247,247,247)","rgb(153,142,195)"],4:["rgb(230,97,1)","rgb(253,184,99)","rgb(178,171,210)","rgb(94,60,153)"],5:["rgb(230,97,1)","rgb(253,184,99)","rgb(247,247,247)","rgb(178,171,210)","rgb(94,60,153)"],6:["rgb(179,88,6)","rgb(241,163,64)","rgb(254,224,182)","rgb(216,218,235)","rgb(153,142,195)","rgb(84,39,136)"],7:["rgb(179,88,6)","rgb(241,163,64)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(153,142,195)","rgb(84,39,136)"],8:["rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)"],9:["rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)"],10:["rgb(127,59,8)","rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)","rgb(45,0,75)"],11:["rgb(127,59,8)","rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)","rgb(45,0,75)"],type:"div"},Set2:{3:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)"],4:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)"],5:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)"],6:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)"],7:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)"],8:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],type:"qual"},Accent:{3:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)"],4:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)"],5:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)"],6:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)"],7:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"],8:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)","rgb(102,102,102)"],type:"qual"},Set1:{3:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)"],4:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)"],5:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)"],6:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)"],7:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)"],8:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)"],9:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)","rgb(153,153,153)"],type:"qual"},Set3:{3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)"],4:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)"],5:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)"],6:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)"],7:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)"],8:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)"],9:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)"],10:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)"],11:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)"],12:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],type:"qual"},Dark2:{3:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)"],4:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)"],5:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)"],6:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)"],7:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)"],8:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],type:"qual"},Paired:{3:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)"],4:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)"],5:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)"],6:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)"],7:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)"],8:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)"],9:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)"],10:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)"],11:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)","rgb(255,255,153)"],12:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)","rgb(255,255,153)","rgb(177,89,40)"],type:"qual"},Pastel2:{3:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)"],4:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)"],5:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)"],6:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)"],7:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(241,226,204)"],8:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(241,226,204)","rgb(204,204,204)"],type:"qual"},Pastel1:{3:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)"],4:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)"],5:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)"],6:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)"],7:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)"],8:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],9:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)","rgb(242,242,242)"],type:"qual"},OrRd:{3:["rgb(254,232,200)","rgb(253,187,132)","rgb(227,74,51)"],4:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(215,48,31)"],5:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(227,74,51)","rgb(179,0,0)"],6:["rgb(254,240,217)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(227,74,51)","rgb(179,0,0)"],7:["rgb(254,240,217)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(153,0,0)"],8:["rgb(255,247,236)","rgb(254,232,200)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(153,0,0)"],9:["rgb(255,247,236)","rgb(254,232,200)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(179,0,0)","rgb(127,0,0)"],type:"seq"},PuBu:{3:["rgb(236,231,242)","rgb(166,189,219)","rgb(43,140,190)"],4:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(5,112,176)"],5:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(43,140,190)","rgb(4,90,141)"],6:["rgb(241,238,246)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(43,140,190)","rgb(4,90,141)"],7:["rgb(241,238,246)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(3,78,123)"],8:["rgb(255,247,251)","rgb(236,231,242)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(3,78,123)"],9:["rgb(255,247,251)","rgb(236,231,242)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(4,90,141)","rgb(2,56,88)"],type:"seq"},BuPu:{3:["rgb(224,236,244)","rgb(158,188,218)","rgb(136,86,167)"],4:["rgb(237,248,251)","rgb(179,205,227)","rgb(140,150,198)","rgb(136,65,157)"],5:["rgb(237,248,251)","rgb(179,205,227)","rgb(140,150,198)","rgb(136,86,167)","rgb(129,15,124)"],6:["rgb(237,248,251)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(136,86,167)","rgb(129,15,124)"],7:["rgb(237,248,251)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(110,1,107)"],8:["rgb(247,252,253)","rgb(224,236,244)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(110,1,107)"],9:["rgb(247,252,253)","rgb(224,236,244)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(129,15,124)","rgb(77,0,75)"],type:"seq"},Oranges:{3:["rgb(254,230,206)","rgb(253,174,107)","rgb(230,85,13)"],4:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(217,71,1)"],5:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(230,85,13)","rgb(166,54,3)"],6:["rgb(254,237,222)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(230,85,13)","rgb(166,54,3)"],7:["rgb(254,237,222)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(140,45,4)"],8:["rgb(255,245,235)","rgb(254,230,206)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(140,45,4)"],9:["rgb(255,245,235)","rgb(254,230,206)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(166,54,3)","rgb(127,39,4)"],type:"seq"},BuGn:{3:["rgb(229,245,249)","rgb(153,216,201)","rgb(44,162,95)"],4:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(35,139,69)"],5:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(44,162,95)","rgb(0,109,44)"],6:["rgb(237,248,251)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(44,162,95)","rgb(0,109,44)"],7:["rgb(237,248,251)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,88,36)"],8:["rgb(247,252,253)","rgb(229,245,249)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,88,36)"],9:["rgb(247,252,253)","rgb(229,245,249)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,109,44)","rgb(0,68,27)"],type:"seq"},YlOrBr:{3:["rgb(255,247,188)","rgb(254,196,79)","rgb(217,95,14)"],4:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(204,76,2)"],5:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(217,95,14)","rgb(153,52,4)"],6:["rgb(255,255,212)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(217,95,14)","rgb(153,52,4)"],7:["rgb(255,255,212)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(140,45,4)"],8:["rgb(255,255,229)","rgb(255,247,188)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(140,45,4)"],9:["rgb(255,255,229)","rgb(255,247,188)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(153,52,4)","rgb(102,37,6)"],type:"seq"},YlGn:{3:["rgb(247,252,185)","rgb(173,221,142)","rgb(49,163,84)"],4:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(35,132,67)"],5:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(49,163,84)","rgb(0,104,55)"],6:["rgb(255,255,204)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(49,163,84)","rgb(0,104,55)"],7:["rgb(255,255,204)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,90,50)"],8:["rgb(255,255,229)","rgb(247,252,185)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,90,50)"],9:["rgb(255,255,229)","rgb(247,252,185)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,104,55)","rgb(0,69,41)"],type:"seq"},Reds:{3:["rgb(254,224,210)","rgb(252,146,114)","rgb(222,45,38)"],4:["rgb(254,229,217)","rgb(252,174,145)","rgb(251,106,74)","rgb(203,24,29)"],5:["rgb(254,229,217)","rgb(252,174,145)","rgb(251,106,74)","rgb(222,45,38)","rgb(165,15,21)"],6:["rgb(254,229,217)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(222,45,38)","rgb(165,15,21)"],7:["rgb(254,229,217)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(153,0,13)"],8:["rgb(255,245,240)","rgb(254,224,210)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(153,0,13)"],9:["rgb(255,245,240)","rgb(254,224,210)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(165,15,21)","rgb(103,0,13)"],type:"seq"},RdPu:{3:["rgb(253,224,221)","rgb(250,159,181)","rgb(197,27,138)"],4:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(174,1,126)"],5:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(197,27,138)","rgb(122,1,119)"],6:["rgb(254,235,226)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(197,27,138)","rgb(122,1,119)"],7:["rgb(254,235,226)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)"],8:["rgb(255,247,243)","rgb(253,224,221)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)"],9:["rgb(255,247,243)","rgb(253,224,221)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)","rgb(73,0,106)"],type:"seq"},Greens:{3:["rgb(229,245,224)","rgb(161,217,155)","rgb(49,163,84)"],4:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(35,139,69)"],5:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"],6:["rgb(237,248,233)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"],7:["rgb(237,248,233)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,90,50)"],8:["rgb(247,252,245)","rgb(229,245,224)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,90,50)"],9:["rgb(247,252,245)","rgb(229,245,224)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,109,44)","rgb(0,68,27)"],type:"seq"},YlGnBu:{3:["rgb(237,248,177)","rgb(127,205,187)","rgb(44,127,184)"],4:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(34,94,168)"],5:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(44,127,184)","rgb(37,52,148)"],6:["rgb(255,255,204)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(44,127,184)","rgb(37,52,148)"],7:["rgb(255,255,204)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(12,44,132)"],8:["rgb(255,255,217)","rgb(237,248,177)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(12,44,132)"],9:["rgb(255,255,217)","rgb(237,248,177)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(37,52,148)","rgb(8,29,88)"],type:"seq"},Purples:{3:["rgb(239,237,245)","rgb(188,189,220)","rgb(117,107,177)"],4:["rgb(242,240,247)","rgb(203,201,226)","rgb(158,154,200)","rgb(106,81,163)"],5:["rgb(242,240,247)","rgb(203,201,226)","rgb(158,154,200)","rgb(117,107,177)","rgb(84,39,143)"],6:["rgb(242,240,247)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(117,107,177)","rgb(84,39,143)"],7:["rgb(242,240,247)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(74,20,134)"],8:["rgb(252,251,253)","rgb(239,237,245)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(74,20,134)"],9:["rgb(252,251,253)","rgb(239,237,245)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(84,39,143)","rgb(63,0,125)"],type:"seq"},GnBu:{3:["rgb(224,243,219)","rgb(168,221,181)","rgb(67,162,202)"],4:["rgb(240,249,232)","rgb(186,228,188)","rgb(123,204,196)","rgb(43,140,190)"],5:["rgb(240,249,232)","rgb(186,228,188)","rgb(123,204,196)","rgb(67,162,202)","rgb(8,104,172)"],6:["rgb(240,249,232)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(67,162,202)","rgb(8,104,172)"],7:["rgb(240,249,232)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,88,158)"],8:["rgb(247,252,240)","rgb(224,243,219)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,88,158)"],9:["rgb(247,252,240)","rgb(224,243,219)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,104,172)","rgb(8,64,129)"],type:"seq"},Greys:{3:["rgb(240,240,240)","rgb(189,189,189)","rgb(99,99,99)"],4:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(82,82,82)"],5:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(99,99,99)","rgb(37,37,37)"],6:["rgb(247,247,247)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(99,99,99)","rgb(37,37,37)"],7:["rgb(247,247,247)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)"],8:["rgb(255,255,255)","rgb(240,240,240)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)"],9:["rgb(255,255,255)","rgb(240,240,240)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)","rgb(0,0,0)"],type:"seq"},YlOrRd:{3:["rgb(255,237,160)","rgb(254,178,76)","rgb(240,59,32)"],4:["rgb(255,255,178)","rgb(254,204,92)","rgb(253,141,60)","rgb(227,26,28)"],5:["rgb(255,255,178)","rgb(254,204,92)","rgb(253,141,60)","rgb(240,59,32)","rgb(189,0,38)"],6:["rgb(255,255,178)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(240,59,32)","rgb(189,0,38)"],7:["rgb(255,255,178)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(252,78,42)","rgb(227,26,28)","rgb(177,0,38)"],8:["rgb(255,255,204)","rgb(255,237,160)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(252,78,42)","rgb(227,26,28)","rgb(177,0,38)"],type:"seq"},PuRd:{3:["rgb(231,225,239)","rgb(201,148,199)","rgb(221,28,119)"],4:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(206,18,86)"],5:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(221,28,119)","rgb(152,0,67)"],6:["rgb(241,238,246)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(221,28,119)","rgb(152,0,67)"],7:["rgb(241,238,246)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(145,0,63)"],8:["rgb(247,244,249)","rgb(231,225,239)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(145,0,63)"],9:["rgb(247,244,249)","rgb(231,225,239)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(152,0,67)","rgb(103,0,31)"],type:"seq"},Blues:{3:["rgb(222,235,247)","rgb(158,202,225)","rgb(49,130,189)"],4:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(33,113,181)"],5:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(49,130,189)","rgb(8,81,156)"],6:["rgb(239,243,255)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(49,130,189)","rgb(8,81,156)"],7:["rgb(239,243,255)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,69,148)"],8:["rgb(247,251,255)","rgb(222,235,247)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,69,148)"],9:["rgb(247,251,255)","rgb(222,235,247)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,81,156)","rgb(8,48,107)"],type:"seq"},PuBuGn:{3:["rgb(236,226,240)","rgb(166,189,219)","rgb(28,144,153)"],4:["rgb(246,239,247)","rgb(189,201,225)","rgb(103,169,207)","rgb(2,129,138)"],5:["rgb(246,239,247)","rgb(189,201,225)","rgb(103,169,207)","rgb(28,144,153)","rgb(1,108,89)"],6:["rgb(246,239,247)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(28,144,153)","rgb(1,108,89)"],7:["rgb(246,239,247)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,100,80)"],8:["rgb(255,247,251)","rgb(236,226,240)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,100,80)"],9:["rgb(255,247,251)","rgb(236,226,240)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,108,89)","rgb(1,70,54)"],type:"seq"}}
}),e("utils/color",["underscore","colorbrewer"],function(r,t){function e(e,n){if(arguments.length>1)return t[e][n];var i=r.map(r.keys(t[e]),function(t){return r.isFinite(t)?Number(t):0}),g=r.max(i);return t[e][String(g)]}return e}),e("view/diagrams/heatmap.js",["underscore","node-uuid","core/manager","view/components/filter","view/components/legend/color_bar","utils/color"],function(r,t,e,n,i,g){function o(t,n,i,o){var a={title:"heatmap",x:null,y:null,fill:null,width:1,height:1,color:g("RdBu").reverse(),stroke_color:"#fff",stroke_width:1,hover:!0};arguments.length>3&&r.extend(a,o);var b=e.getData(i),s=t.append("g");return this.color_scale=function(){var r=b.columnWithFilters(a.uuid,a.fill),t=d3.extent(r),e=d3.range(t[0],t[1],(t[1]-t[0])/a.color.length);return d3.scale.linear().range(a.color).domain(e)}(),this.scales=n,this.options=a,this.model=s,this.df=b,this.uuid=a.uuid,this}return o.prototype.update=function(){var r=this.processData(),t=this.model.selectAll("rect").data(r);t.each(function(){var r=document.createEvent("MouseEvents");r.initEvent("mouseout",!1,!0),this.dispatchEvent(r)}),t.enter().append("rect"),this.updateModels(t,this.options)},o.prototype.processData=function(){var t=this.df.columnWithFilters(this.uuid,this.options.x),e=this.df.columnWithFilters(this.uuid,this.options.y),n=this.df.columnWithFilters(this.uuid,this.options.fill),i=this.scales,g=this.options,o=this.color_scale;return r.map(r.zip(t,e,n),function(r){var t,e,n,a;return n=Math.abs(i.get(g.width,0).x-i.get(0,0).x),a=Math.abs(i.get(0,g.height).y-i.get(0,0).y),t=i.get(r[0],0).x-n/2,e=i.get(0,r[1]).y-a/2,{x:t,y:e,width:n,height:a,fill:o(r[2]),x_raw:r[0],y_raw:r[1]}})},o.prototype.updateModels=function(r,t){var e=this.uuid,n=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return d3.rgb(r.fill).darker(1)}),t.tooltip.addToXAxis(e,this.__data__.x_raw,3),t.tooltip.addToYAxis(e,this.__data__.y_raw,3),t.tooltip.update()},i=function(){d3.select(this).transition().duration(200).attr("fill",function(r){return r.fill}),t.tooltip.reset()};r.attr("x",function(r){return r.x}).attr("width",function(r){return r.width}).attr("y",function(r){return r.y}).attr("height",function(r){return r.height}).attr("fill",function(r){return r.fill}).attr("stroke",t.stroke_color).attr("stroke-width",t.stroke_width),t.hover&&r.on("mouseover",n).on("mouseout",i)},o.prototype.getLegend=function(){return new i(this.color_scale)},o.prototype.checkSelectedData=function(){},o}),e("view/diagrams/diagrams",["require","exports","module","view/diagrams/bar","view/diagrams/histogram","view/diagrams/scatter","view/diagrams/line","view/diagrams/venn","view/diagrams/multiple_venn","view/diagrams/box.js","view/diagrams/heatmap.js"],function(r){var t={};return t.bar=r("view/diagrams/bar"),t.histogram=r("view/diagrams/histogram"),t.scatter=r("view/diagrams/scatter"),t.line=r("view/diagrams/line"),t.venn=r("view/diagrams/venn"),t.multiple_venn=r("view/diagrams/multiple_venn"),t.box=r("view/diagrams/box.js"),t.heatmap=r("view/diagrams/heatmap.js"),t.add=function(r,e){t[r]=e},t}),e("view/components/legend_area",["underscore","core/manager"],function(r){function t(t,e){var n={width:200,height:300,margin:{top:10,bottom:10,left:10,right:10},fill_color:"none",stroke_color:"#000",stroke_width:0};arguments.length>1&&r.extend(n,e);var i=t.append("g");return i.append("rect").attr("width",n.width).attr("height",n.height).attr("x",0).attr("y",0).attr("fill",n.fill_color).attr("stroke",n.stroke_color).attr("stroke-width",n.stroke_width),this.model=i,this.options=n,this.seek={x:n.margin.left,y:n.margin.top,width:0},this}return t.prototype.add=function(t){var e=this.model.append("g").attr("transform","translate("+this.seek.x+","+this.seek.y+")"),n=t.getDomObject();e[0][0].appendChild(n[0][0]),this.seek.y+t.height()>this.options.height?(this.seek.x+=this.seek.width,this.seek.y=this.options.margin.top):(this.seek.width=r.max([this.seek.width,t.width()]),this.seek.y+=t.height())},t}),e("utils/ua_info",["underscore"],function(){return function(){var r=window.navigator.userAgent.toLowerCase();return-1!=r.indexOf("chrome")?"chrome":-1!=r.indexOf("firefox")?"firefox":"unknown"}}),e("view/components/tooltip",["underscore","utils/ua_info"],function(r,t){function e(t,e,n){var i={bg_color:"#333",stroke_color:"#000",stroke_width:1,text_color:"#fff",context_width:0,context_height:0,context_margin:{top:0,left:0,bottom:0,right:0},arrow_width:10,arrow_height:10,tooltip_margin:{top:2,left:5,bottom:2,right:5},font:"Helvetica, Arial, sans-serif",font_size:"1em"};arguments.length>1&&r.extend(i,n);var g=t.append("g");return this.scales=e,this.options=i,this.lists=[],this.model=g,this}return e.prototype.add=function(t,e,n,i,g){var o=r.map(g,function(r,t){return String(t)+":"+String(r)});this.lists.push({id:t,x:e,y:n,pos:i,contents:o})},e.prototype.addToXAxis=function(r,t,e){if(arguments.length>2){var n=Math.pow(10,e);t=Math.round(t*n)/n}this.lists.push({id:r,x:t,y:"bottom",pos:"bottom",contents:String(t)})},e.prototype.addToYAxis=function(r,t,e){if(arguments.length>2){var n=Math.pow(10,e);t=Math.round(t*n)/n}this.lists.push({id:r,x:"left",y:t,pos:"right",contents:String(t)})},e.prototype.reset=function(){this.lists=[],this.update()},e.prototype.update=function(){var r=this.processData(this.lists),t=this.model.selectAll("g").data(r);this.updateModels(t)},e.prototype.updateModels=function(e){e.exit().remove();this.options;!function(e,n){var i=d3.svg.line().x(function(r){return r.x}).y(function(r){return r.y}).interpolate("linear");e.append("path").attr("d",function(r){return i(r.shape)}).attr("stroke",n.stroke_color).attr("fill",n.bg_color),e.each(function(){var e;if(r.isArray(this.__data__.text)){var i=this.__data__.text,g=this.__data__.text_x,o=this.__data__.text_y,a=r.map(r.zip(i,o),function(r){return{text:r[0],y:r[1]}});e=d3.select(this).append("g").selectAll("text").data(a).enter().append("text").text(function(r){return r.text}).attr("x",function(){return g}).attr("y",function(r){return r.y})}else e=d3.select(this).append("text").text(function(r){return r.text}).attr("x",function(r){return r.text_x}).attr("y",function(r){return r.text_y});switch(e.attr("text-anchor","middle").attr("fill","#ffffff").attr("font-size",n.font_size).style("font-family",n.font),t()){case"chrome":e.attr("dominant-baseline","middle").attr("baseline-shift","50%");break;default:e.attr("dominant-baseline","text-after-edge")}}),e.attr("transform",function(r){return"translate("+r.tip_x+","+r.tip_y+")"})}(e.enter().append("g"),this.options)},e.prototype.processData=function(t){var e=this.options,n=function(t,n,i){var g=e.arrow_width,o=e.arrow_height,a=n,b=i,s={top:[{x:0,y:0},{x:g/2,y:-o},{x:a/2,y:-o},{x:a/2,y:-o-b},{x:-a/2,y:-o-b},{x:-a/2,y:-o},{x:-g/2,y:-o},{x:0,y:0}],right:[{x:0,y:0},{x:-g,y:-o/2},{x:-g,y:-b/2},{x:-g-a,y:-b/2},{x:-g-a,y:b/2},{x:-g,y:b/2},{x:-g,y:o/2},{x:0,y:0}]};s.bottom=r.map(s.top,function(r){return{x:r.x,y:-r.y}}),s.left=r.map(s.right,function(r){return{x:-r.x,y:r.y}});var l=function(r){var e={};switch(t){case"top":case"bottom":e={x:0,y:(r[2].y+r[3].y)/2};break;case"right":case"left":e={x:(r[2].x+r[3].x)/2,y:0}}return e}(s[t]);return{shape:s[t],text:l}},i=this.options.tooltip_margin,g=this.options.context_height,o=this.scales,a=this.model,b=function(r,t){var n=a.append("text").text(r).attr("font-size",t).style("font-family",e.font),i=n[0][0].getBBox().width,g=n[0][0].getBBox().height;return n.remove(),{w:i,h:g}};return r.map(t,function(t){var a,s=r.isArray(t.contents)?t.contents.length:1,l=r.isArray(t.contents)?r.max(t.contents,function(r){return r.length}):t.contents,u=b(l,e.font_size),c=u.w+i.left+i.right,d=(u.h+i.top+i.bottom)*s,f=o.get(t.x,t.y),p="left"==t.x?0:f.x,h="bottom"==t.y?g:f.y,m=n(t.pos,c,d);if(r.isArray(t.contents)){var y=t.contents.length;a=r.map(t.contents,function(r,t){return m.text.y-u.h/2*(y-2)+u.h*t})}else a=m.text.y+u.h/2;return{shape:m.shape,tip_x:p,tip_y:h,text_x:m.text.x,text_y:a,text:t.contents}})},e}),e("view/pane",["underscore","node-uuid","view/diagrams/diagrams","view/components/filter","view/components/legend_area","view/components/tooltip"],function(r,t,e,n,i,g){function o(e,n,o,a){var b={width:700,height:500,margin:{top:30,bottom:80,left:80,right:30},xrange:[0,0],yrange:[0,0],x_label:"X",y_label:"Y",rotate_x_label:0,rotate_y_label:0,zoom:!1,grid:!0,zoom_range:[.5,5],bg_color:"#eee",grid_color:"#fff",legend:!1,legend_position:"right",legend_width:150,legend_height:300,legend_stroke_color:"#000",legend_stroke_width:0,font:"Helvetica, Arial, sans-serif",scale:"linear",scale_extra_options:{},axis_extra_options:{}};arguments.length>1&&r.extend(b,a),this.uuid=t.v4();var s=e.append("svg").attr("width",b.width).attr("height",b.height),l=function(){var t={};if(t.plot_x=b.margin.left,t.plot_y=b.margin.top,t.plot_width=b.width-b.margin.left-b.margin.right,t.plot_height=b.height-b.margin.top-b.margin.bottom,b.legend)switch(b.legend_position){case"top":t.plot_width-=b.legend_width,t.plot_y+=b.legend_height,t.legend_x=(b.width-b.legend_width)/2,t.legend_y=b.margin.top;break;case"bottom":t.plot_height-=b.legend_height,t.legend_x=(b.width-b.legend_width)/2,t.legend_y=b.margin.top+b.height;break;case"left":t.plot_x+=b.legend_width,t.plot_width-=b.legend_width,t.legend_x=b.margin.left,t.legend_y=b.margin.top;break;case"right":t.plot_width-=b.legend_width,t.legend_x=t.plot_width+b.margin.left,t.legend_y=b.margin.top;break;case r.isArray(b.legend_position):t.legend_x=b.width*b.legend_position[0],t.legend_y=b.height*b.legend_position[1]}return t}(),u=function(){var r={x:b.xrange,y:b.yrange},t={x:[0,l.plot_width],y:[l.plot_height,0]};return new n(r,t,{linear:b.scale,extra:b.scale_extra_options})}();s.append("g").attr("transform","translate("+l.plot_x+","+l.plot_y+")").append("rect").attr("x",0).attr("y",0).attr("width",l.plot_width).attr("height",l.plot_height).attr("fill",b.bg_color).style("z-index",1);new o(s.select("g"),u,{width:l.plot_width,height:l.plot_height,margin:b.margin,grid:b.grid,zoom:b.zoom,zoom_range:b.zoom_range,x_label:b.x_label,y_label:b.y_label,rotate_x_label:b.rotate_x_label,rotate_y_label:b.rotate_y_label,stroke_color:b.grid_color,pane_uuid:this.uuid,z_index:100,extra:b.axis_extra_options});s.select("g").append("g").attr("class","context").append("clipPath").attr("id",this.uuid+"clip_context").append("rect").attr("x",0).attr("y",0).attr("width",l.plot_width).attr("height",l.plot_height),s.select(".context").attr("clip-path","url(#"+this.uuid+"clip_context)"),s.select("g").append("rect").attr("x",-1).attr("y",-1).attr("width",l.plot_width+2).attr("height",l.plot_height+2).attr("fill","none").attr("stroke","#666").attr("stroke-width",1).style("z-index",200);var c=new g(s.select("g"),u,{font:b.font,context_width:l.plot_width,context_height:l.plot_height,context_margin:{top:l.plot_x,left:l.plot_y,bottom:b.margin.bottom,right:b.margin.right}});return b.legend&&(s.append("g").attr("class","legend_area").attr("transform","translate("+l.legend_x+","+l.legend_y+")"),this.legend_area=new i(s.select(".legend_area"),{width:b.legend_width,height:b.legend_height,stroke_color:b.legend_stroke_color,stroke_width:b.legend_stroke_width})),this.diagrams=[],this.tooltip=c,this.context=s.select(".context").append("g").attr("class","context_child"),this.model=s,this.scales=u,this.options=b,this.filter=null,this}return o.prototype.addDiagram=function(n,i,g){r.extend(g,{uuid:t.v4(),tooltip:this.tooltip});var o=new e[n](this.context,this.scales,i,g);if(this.options.legend){var a=this.legend_area,b=o.getLegend();r.isArray(b)?r.each(b,function(r){a.add(r)}):this.legend_area.add(b)}this.diagrams.push(o)},o.prototype.addFilter=function(t,e){var i=this.diagrams,g=function(t){r.each(i,function(r){r.checkSelectedData(t)})};this.filter=new n(this.context,this.scales,g,e)},o.prototype.update=function(){var t=this.options.font;r.each(this.diagrams,function(r){r.update()}),this.model.selectAll("text").style("font-family",t)},o}),e("view/components/axis",["underscore","core/manager"],function(r,t){function e(e,n,i){var g={width:0,height:0,margin:{top:0,bottom:0,left:0,right:0},stroke_color:"#fff",stroke_width:1,x_label:"X",y_label:"Y",grid:!0,zoom:!1,zoom_range:[.5,5],rotate_x_label:0,rotate_y_label:0,pane_uuid:null,z_index:0};arguments.length>2&&r.extend(g,i);var o=d3.svg.axis().scale(n.raw.x).orient("bottom"),a=d3.svg.axis().scale(n.raw.y).orient("left");e.append("g").attr("class","x_axis"),e.append("g").attr("class","y_axis"),e.append("text").attr("x",g.width/2).attr("y",g.height+g.margin.bottom/1.5).attr("text-anchor","middle").attr("fill","rgb(50,50,50)").attr("font-size",22).text(g.x_label),e.append("text").attr("x",-g.margin.left/1.5).attr("y",g.height/2).attr("text-anchor","middle").attr("fill","rgb(50,50,50)").attr("font-size",22).attr("transform","rotate(-90,"+-g.margin.left/1.5+","+g.height/2+")").text(g.y_label);var b=function(){e.select(".x_axis").call(o),e.select(".y_axis").call(a),e.selectAll(".x_axis, .y_axis").selectAll("path, line").style("z-index",g.z_index).style("fill","none").style("stroke",g.stroke_color).style("stroke-width",g.stroke_width),e.selectAll(".x_axis, .y_axis").selectAll("text").attr("fill","rgb(50,50,50)"),e.selectAll(".x_axis").attr("transform","translate(0,"+(g.height+4)+")"),e.selectAll(".y_axis").attr("transform","translate(-4,0)"),0!=g.rotate_x_label&&e.selectAll(".x_axis").selectAll("text").style("text-anchor","end").attr("transform",function(){return"rotate("+g.rotate_x_label+")"}),0!=g.rotate_y_label&&e.selectAll(".y_axis").selectAll("text").style("text-anchor","end").attr("transform",function(){return"rotate("+g.rotate_y_label+")"}),t.update(g.pane_uuid)};if(g.grid&&(o.tickSize(-1*g.height),a.tickSize(-1*g.width)),g.zoom){var s=d3.behavior.zoom().x(n.raw.x).y(n.raw.y).scaleExtent(g.zoom_range).on("zoom",b);e.call(s),e.on("dblclick.zoom",null)}return b(),this.model=e,this}return e}),e("view/components/scale",["underscore"],function(r){function t(t,e,n){var i={linear:"linear"};arguments.length>1&&r.extend(i,n);var g={};return r.each(["x","y"],function(n){if(r.some(t[n],function(t){return r.isString(t)}))g[n]=d3.scale.ordinal().domain(t[n]).rangeBands(e[n]);else{var o=d3.scale[i.linear]();g[n]=o.domain(t[n]).range(e[n])}}),this.scales=g,this.raw=g,this}return t.prototype.get=function(r,t){return{x:this.scales.x(r),y:this.scales.y(t)}},t.prototype.domain=function(){return{x:this.scales.x.domain(),y:this.scales.y.domain()}},t.prototype.range=function(){return{x:this.scales.x.range(),y:this.scales.y.range()}},t}),e("core/stl",["require","exports","module","view/pane","view/components/axis","view/components/scale"],function(r){var t={};return t.pane=r("view/pane"),t.axis=r("view/components/axis"),t.scale=r("view/components/scale"),t}),e("core/extension",["underscore","core/stl","view/diagrams/diagrams"],function(r,t,e){var n={},i={};return n.load=function(n){if("undefined"!=typeof window[n]&&"undefined"!=typeof window[n].Nya){var g=window[n].Nya;r.each(["pane","scale","axis"],function(r){"undefined"==typeof g[r]&&(g[r]=t[r])}),"undefined"!=typeof g.diagrams&&r.each(g.diagrams,function(r,t){e.add(t,r)}),i[n]=g}},n.get=function(r){return i[r]},n}),e("utils/dataframe",["underscore"],function(r){function t(t,e){if(e instanceof String&&/url(.+)/g.test(e)){var n=e.match(/url\((.+)\)/)[1],i=this;d3.json(n,function(r,t){i.raw=JSON.parse(t)}),this.raw={}}else this.raw=e;var g=r.keys(e[0]),o=r.zip.apply(this,r.map(e,function(t){return r.toArray(t)})),a=r.filter(o,function(t){return r.all(t,function(t){return r.isArray(t)})});return this.nested=1==a.length?g[o.indexOf(a[0])]:!1,this.filters={},this}return t.prototype.row=function(r){return this.raw[r]},t.prototype.column=function(t){var e=[],n=this.raw;return r.each(n,function(r){e.push(r[t])}),e},t.prototype.scale=function(t,e){if(this.isContinuous(t)){var n=this.columnRange(t);return d3.scale.linear().domain([n.min,n.max]).range(e)}return d3.scale.ordinal().domain(r.uniq(this.column(t))).range(e)},t.prototype.isContinuous=function(t){return r.every(this.column(t),function(t){return r.isNumber(t)})},t.prototype.addFilter=function(r,t,e){this.filters[r]={func:t,excepts:e}},t.prototype.columnWithFilters=function(t,e){var n=this.raw.concat();return r.each(this.filters,function(e,i){(-1==e.excepts.indexOf("self")||i!=t)&&(t in e.excepts||(n=r.filter(n,e.func)))}),r.map(n,function(r){return r[e]})},t.prototype.pickUpCells=function(t,e){var n=this.column(t);return r.map(e,function(r){return n[r]})},t.prototype.getPartialDf=function(t){return r.map(this.raw,function(e){return r.reduce(t,function(r,t){return r[t]=e[t],r},{})})},t.prototype.nested_column=function(r,e){if(!this.nested)throw"Recieved dataframe is not nested.";var n=new t("",this.row(r)[this.nested]);return n.column(e)},t.prototype.columnRange=function(r){var t=this.column(r);return{max:d3.max(t,function(r){return r}),min:d3.min(t,function(r){return r})}},t}),e("core/parse",["underscore","core/manager","core/extension","core/stl","utils/dataframe"],function(r,t,e,n,i){function g(t,n){var i=d3.select(n);"undefined"!=typeof t.extension&&(r.isArray(t.extension)?r.each(t.extension,function(r){e.load(r)}):e.load(t.extension)),o(t,i)}function o(g,o){r.each(g.data,function(r,e){t.addData(e,new i(e,r))}),r.each(g.panes,function(i){var g,a,b,s;if("undefined"!=typeof i.extension){var l=e.get(i.extension);a=l.pane,b=l.axis,s=l.scale}else a=n.pane,b=n.axis,s=n.scale;g=new a(o,s,b,i.options);var u=[];if(r.each(i.diagrams,function(r){g.addDiagram(r.type,r.data,r.options||{}),u.push(r.data)}),void 0!==i.filter){var c=i.filter;g.addFilter(c.type,c.options||{})}t.addPane({pane:g,data:u,uuid:g.uuid}),t.update(g.uuid)})}return g}),e("main",["require","exports","module","core/parse","core/stl","core/manager","node-uuid","underscore"],function(r){var t={};return t.core={},t.core.parse=r("core/parse"),t.STL=r("core/stl"),t.Manager=r("core/manager"),t.uuid=r("node-uuid"),t._=r("underscore"),t}),t("main")});