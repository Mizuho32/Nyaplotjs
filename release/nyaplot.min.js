/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

!function(n,t){n.Nyaplot=t()}(this,function(){var n,t,e;return function(r){function i(n,t){return _.call(n,t)}function u(n,t){var e,r,i,u,a,o,c,l,s,f,p,h=t&&t.split("/"),d=m.map,g=d&&d["*"]||{};if(n&&"."===n.charAt(0))if(t){for(h=h.slice(0,h.length-1),n=n.split("/"),a=n.length-1,m.nodeIdCompat&&b.test(n[a])&&(n[a]=n[a].replace(b,"")),n=h.concat(n),s=0;s<n.length;s+=1)if(p=n[s],"."===p)n.splice(s,1),s-=1;else if(".."===p){if(1===s&&(".."===n[2]||".."===n[0]))break;s>0&&(n.splice(s-1,2),s-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((h||g)&&d){for(e=n.split("/"),s=e.length;s>0;s-=1){if(r=e.slice(0,s).join("/"),h)for(f=h.length;f>0;f-=1)if(i=d[h.slice(0,f).join("/")],i&&(i=i[r])){u=i,o=s;break}if(u)break;!c&&g&&g[r]&&(c=g[r],l=s)}!u&&c&&(u=c,o=l),u&&(e.splice(0,o,u),n=e.join("/"))}return n}function a(n,t){return function(){return h.apply(r,w.call(arguments,0).concat([n,t]))}}function o(n){return function(t){return u(t,n)}}function c(n){return function(t){v[n]=t}}function l(n){if(i(y,n)){var t=y[n];delete y[n],x[n]=!0,p.apply(r,t)}if(!i(v,n)&&!i(x,n))throw new Error("No "+n);return v[n]}function s(n){var t,e=n?n.indexOf("!"):-1;return e>-1&&(t=n.substring(0,e),n=n.substring(e+1,n.length)),[t,n]}function f(n){return function(){return m&&m.config&&m.config[n]||{}}}var p,h,d,g,v={},y={},m={},x={},_=Object.prototype.hasOwnProperty,w=[].slice,b=/\.js$/;d=function(n,t){var e,r=s(n),i=r[0];return n=r[1],i&&(i=u(i,t),e=l(i)),i?n=e&&e.normalize?e.normalize(n,o(t)):u(n,t):(n=u(n,t),r=s(n),i=r[0],n=r[1],i&&(e=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:e}},g={require:function(n){return a(n)},exports:function(n){var t=v[n];return"undefined"!=typeof t?t:v[n]={}},module:function(n){return{id:n,uri:"",exports:v[n],config:f(n)}}},p=function(n,t,e,u){var o,s,f,p,h,m,_=[],w=typeof e;if(u=u||n,"undefined"===w||"function"===w){for(t=!t.length&&e.length?["require","exports","module"]:t,h=0;h<t.length;h+=1)if(p=d(t[h],u),s=p.f,"require"===s)_[h]=g.require(n);else if("exports"===s)_[h]=g.exports(n),m=!0;else if("module"===s)o=_[h]=g.module(n);else if(i(v,s)||i(y,s)||i(x,s))_[h]=l(s);else{if(!p.p)throw new Error(n+" missing "+s);p.p.load(p.n,a(u,!0),c(s),{}),_[h]=v[s]}f=e?e.apply(v[n],_):void 0,n&&(o&&o.exports!==r&&o.exports!==v[n]?v[n]=o.exports:f===r&&m||(v[n]=f))}else n&&(v[n]=e)},n=t=h=function(n,t,e,i,u){if("string"==typeof n)return g[n]?g[n](t):l(d(n,t).f);if(!n.splice){if(m=n,m.deps&&h(m.deps,m.callback),!t)return;t.splice?(n=t,t=e,e=null):n=r}return t=t||function(){},"function"==typeof e&&(e=i,i=u),i?p(r,n,t,e):setTimeout(function(){p(r,n,t,e)},4),h},h.config=function(n){return h(n)},n._defined=v,e=function(n,t,e){t.splice||(e=t,t=[]),i(v,n)||i(y,n)||(y[n]=[n,t,e])},e.amd={jQuery:!0}}(),e("../contrib/almond/almond",function(){}),function(){var n=this,t=n._,r={},i=Array.prototype,u=Object.prototype,a=Function.prototype,o=i.push,c=i.slice,l=i.concat,s=u.toString,f=u.hasOwnProperty,p=i.forEach,h=i.map,d=i.reduce,g=i.reduceRight,v=i.filter,y=i.every,m=i.some,x=i.indexOf,_=i.lastIndexOf,w=Array.isArray,b=Object.keys,k=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=A),exports._=A):n._=A,A.VERSION="1.6.0";var j=A.each=A.forEach=function(n,t,e){if(null==n)return n;if(p&&n.forEach===p)n.forEach(t,e);else if(n.length===+n.length){for(var i=0,u=n.length;u>i;i++)if(t.call(e,n[i],i,n)===r)return}else for(var a=A.keys(n),i=0,u=a.length;u>i;i++)if(t.call(e,n[a[i]],a[i],n)===r)return;return n};A.map=A.collect=function(n,t,e){var r=[];return null==n?r:h&&n.map===h?n.map(t,e):(j(n,function(n,i,u){r.push(t.call(e,n,i,u))}),r)};var O="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),d&&n.reduce===d)return r&&(t=A.bind(t,r)),i?n.reduce(t,e):n.reduce(t);if(j(n,function(n,u,a){i?e=t.call(r,e,n,u,a):(e=n,i=!0)}),!i)throw new TypeError(O);return e},A.reduceRight=A.foldr=function(n,t,e,r){var i=arguments.length>2;if(null==n&&(n=[]),g&&n.reduceRight===g)return r&&(t=A.bind(t,r)),i?n.reduceRight(t,e):n.reduceRight(t);var u=n.length;if(u!==+u){var a=A.keys(n);u=a.length}if(j(n,function(o,c,l){c=a?a[--u]:--u,i?e=t.call(r,e,n[c],c,l):(e=n[c],i=!0)}),!i)throw new TypeError(O);return e},A.find=A.detect=function(n,t,e){var r;return E(n,function(n,i,u){return t.call(e,n,i,u)?(r=n,!0):void 0}),r},A.filter=A.select=function(n,t,e){var r=[];return null==n?r:v&&n.filter===v?n.filter(t,e):(j(n,function(n,i,u){t.call(e,n,i,u)&&r.push(n)}),r)},A.reject=function(n,t,e){return A.filter(n,function(n,r,i){return!t.call(e,n,r,i)},e)},A.every=A.all=function(n,t,e){t||(t=A.identity);var i=!0;return null==n?i:y&&n.every===y?n.every(t,e):(j(n,function(n,u,a){return(i=i&&t.call(e,n,u,a))?void 0:r}),!!i)};var E=A.some=A.any=function(n,t,e){t||(t=A.identity);var i=!1;return null==n?i:m&&n.some===m?n.some(t,e):(j(n,function(n,u,a){return i||(i=t.call(e,n,u,a))?r:void 0}),!!i)};A.contains=A.include=function(n,t){return null==n?!1:x&&n.indexOf===x?-1!=n.indexOf(t):E(n,function(n){return n===t})},A.invoke=function(n,t){var e=c.call(arguments,2),r=A.isFunction(t);return A.map(n,function(n){return(r?t:n[t]).apply(n,e)})},A.pluck=function(n,t){return A.map(n,A.property(t))},A.where=function(n,t){return A.filter(n,A.matches(t))},A.findWhere=function(n,t){return A.find(n,A.matches(t))},A.max=function(n,t,e){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var r=-1/0,i=-1/0;return j(n,function(n,u,a){var o=t?t.call(e,n,u,a):n;o>i&&(r=n,i=o)}),r},A.min=function(n,t,e){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var r=1/0,i=1/0;return j(n,function(n,u,a){var o=t?t.call(e,n,u,a):n;i>o&&(r=n,i=o)}),r},A.shuffle=function(n){var t,e=0,r=[];return j(n,function(n){t=A.random(e++),r[e-1]=r[t],r[t]=n}),r},A.sample=function(n,t,e){return null==t||e?(n.length!==+n.length&&(n=A.values(n)),n[A.random(n.length-1)]):A.shuffle(n).slice(0,Math.max(0,t))};var q=function(n){return null==n?A.identity:A.isFunction(n)?n:A.property(n)};A.sortBy=function(n,t,e){return t=q(t),A.pluck(A.map(n,function(n,r,i){return{value:n,index:r,criteria:t.call(e,n,r,i)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,e,r){var i={};return e=q(e),j(t,function(u,a){var o=e.call(r,u,a,t);n(i,o,u)}),i}};A.groupBy=F(function(n,t,e){A.has(n,t)?n[t].push(e):n[t]=[e]}),A.indexBy=F(function(n,t,e){n[t]=e}),A.countBy=F(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,e,r){e=q(e);for(var i=e.call(r,t),u=0,a=n.length;a>u;){var o=u+a>>>1;e.call(r,n[o])<i?u=o+1:a=o}return u},A.toArray=function(n){return n?A.isArray(n)?c.call(n):n.length===+n.length?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:n.length===+n.length?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:0>t?[]:c.call(n,0,t)},A.initial=function(n,t,e){return c.call(n,0,n.length-(null==t||e?1:t))},A.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,e){return c.call(n,null==t||e?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var R=function(n,t,e){return t&&A.every(n,A.isArray)?l.apply(e,n):(j(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(e,n):R(n,t,e):e.push(n)}),e)};A.flatten=function(n,t){return R(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.partition=function(n,t){var e=[],r=[];return j(n,function(n){(t(n)?e:r).push(n)}),[e,r]},A.uniq=A.unique=function(n,t,e,r){A.isFunction(t)&&(r=e,e=t,t=!1);var i=e?A.map(n,e,r):n,u=[],a=[];return j(i,function(e,r){(t?r&&a[a.length-1]===e:A.contains(a,e))||(a.push(e),u.push(n[r]))}),u},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.contains(t,n)})})},A.difference=function(n){var t=l.apply(i,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),e=0;n>e;e++)t[e]=A.pluck(arguments,""+e);return t},A.object=function(n,t){if(null==n)return{};for(var e={},r=0,i=n.length;i>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},A.indexOf=function(n,t,e){if(null==n)return-1;var r=0,i=n.length;if(e){if("number"!=typeof e)return r=A.sortedIndex(n,t),n[r]===t?r:-1;r=0>e?Math.max(0,i+e):e}if(x&&n.indexOf===x)return n.indexOf(t,e);for(;i>r;r++)if(n[r]===t)return r;return-1},A.lastIndexOf=function(n,t,e){if(null==n)return-1;var r=null!=e;if(_&&n.lastIndexOf===_)return r?n.lastIndexOf(t,e):n.lastIndexOf(t);for(var i=r?e:n.length;i--;)if(n[i]===t)return i;return-1},A.range=function(n,t,e){arguments.length<=1&&(t=n||0,n=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=0,u=new Array(r);r>i;)u[i++]=n,n+=e;return u};var S=function(){};A.bind=function(n,t){var e,r;if(k&&n.bind===k)return k.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return e=c.call(arguments,2),r=function(){if(!(this instanceof r))return n.apply(t,e.concat(c.call(arguments)));S.prototype=n.prototype;var i=new S;S.prototype=null;var u=n.apply(i,e.concat(c.call(arguments)));return Object(u)===u?u:i}},A.partial=function(n){var t=c.call(arguments,1);return function(){for(var e=0,r=t.slice(),i=0,u=r.length;u>i;i++)r[i]===A&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return n.apply(this,r)}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return j(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var e={};return t||(t=A.identity),function(){var r=t.apply(this,arguments);return A.has(e,r)?e[r]:e[r]=n.apply(this,arguments)}},A.delay=function(n,t){var e=c.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,e){var r,i,u,a=null,o=0;e||(e={});var c=function(){o=e.leading===!1?0:A.now(),a=null,u=n.apply(r,i),r=i=null};return function(){var l=A.now();o||e.leading!==!1||(o=l);var s=t-(l-o);return r=this,i=arguments,0>=s?(clearTimeout(a),a=null,o=l,u=n.apply(r,i),r=i=null):a||e.trailing===!1||(a=setTimeout(c,s)),u}},A.debounce=function(n,t,e){var r,i,u,a,o,c=function(){var l=A.now()-a;t>l?r=setTimeout(c,t-l):(r=null,e||(o=n.apply(u,i),u=i=null))};return function(){u=this,i=arguments,a=A.now();var l=e&&!r;return r||(r=setTimeout(c,t)),l&&(o=n.apply(u,i),u=i=null),o}},A.once=function(n){var t,e=!1;return function(){return e?t:(e=!0,t=n.apply(this,arguments),n=null,t)}},A.wrap=function(n,t){return A.partial(t,n)},A.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;e>=0;e--)t=[n[e].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=function(n){if(!A.isObject(n))return[];if(b)return b(n);var t=[];for(var e in n)A.has(n,e)&&t.push(e);return t},A.values=function(n){for(var t=A.keys(n),e=t.length,r=new Array(e),i=0;e>i;i++)r[i]=n[t[i]];return r},A.pairs=function(n){for(var t=A.keys(n),e=t.length,r=new Array(e),i=0;e>i;i++)r[i]=[t[i],n[t[i]]];return r},A.invert=function(n){for(var t={},e=A.keys(n),r=0,i=e.length;i>r;r++)t[n[e[r]]]=e[r];return t},A.functions=A.methods=function(n){var t=[];for(var e in n)A.isFunction(n[e])&&t.push(e);return t.sort()},A.extend=function(n){return j(c.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},A.pick=function(n){var t={},e=l.apply(i,c.call(arguments,1));return j(e,function(e){e in n&&(t[e]=n[e])}),t},A.omit=function(n){var t={},e=l.apply(i,c.call(arguments,1));for(var r in n)A.contains(e,r)||(t[r]=n[r]);return t},A.defaults=function(n){return j(c.call(arguments,1),function(t){if(t)for(var e in t)void 0===n[e]&&(n[e]=t[e])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var z=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var i=s.call(n);if(i!=s.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=e.length;u--;)if(e[u]==n)return r[u]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;e.push(n),r.push(t);var c=0,l=!0;if("[object Array]"==i){if(c=n.length,l=c==t.length)for(;c--&&(l=z(n[c],t[c],e,r)););}else{for(var f in n)if(A.has(n,f)&&(c++,!(l=A.has(t,f)&&z(n[f],t[f],e,r))))break;if(l){for(f in t)if(A.has(t,f)&&!c--)break;l=!c}}return e.pop(),r.pop(),l};A.isEqual=function(n,t){return z(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==s.call(n)},A.isObject=function(n){return n===Object(n)},j(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return s.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==s.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return f.call(n,t)},A.noConflict=function(){return n._=t,this},A.identity=function(n){return n},A.constant=function(n){return function(){return n}},A.property=function(n){return function(t){return t[n]}},A.matches=function(n){return function(t){if(t===n)return!0;for(var e in n)if(n[e]!==t[e])return!1;return!0}},A.times=function(n,t,e){for(var r=Array(Math.max(0,n)),i=0;n>i;i++)r[i]=t.call(e,i);return r},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},A.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=A.invert(N.escape);var M={escape:new RegExp("["+A.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(N.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(M[n],function(t){return N[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var e=n[t];return A.isFunction(e)?e.call(n):e},A.mixin=function(n){j(A.functions(n),function(t){var e=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),D.call(this,e.apply(A,n))}})};var C=0;A.uniqueId=function(n){var t=++C+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,e){var r;e=A.defaults({},e,A.templateSettings);var i=new RegExp([(e.escape||T).source,(e.interpolate||T).source,(e.evaluate||T).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,e,r,i,o){return a+=n.slice(u,o).replace(I,function(n){return"\\"+B[n]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=o+t.length,t}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return r(t,A);var c=function(n){return r.call(this,n,A)};return c.source="function("+(e.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var D=function(n){return this._chain?A(n).chain():n};A.mixin(A),j(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];A.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!=n&&"splice"!=n||0!==e.length||delete e[0],D.call(this,e)}}),j(["concat","join","slice"],function(n){var t=i[n];A.prototype[n]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof e&&e.amd&&e("underscore",[],function(){return A})}.call(this),e("core",["underscore"],function(n){function t(t){n.each(t,function(t){var e=i[t.type],r=e.callback,a=n.map(e.required_args,function(n){return t.args[n]}),o=n.extend(e.optional_args,n.omit.apply(null,[t.args].concat(e.required_args)));a.push(o),u[t.uuid]=r.apply(null,a)})}function e(n,t,e,r){i[n]={required_args:t,optional_args:e,callback:r}}function r(n){return u[n]}var i={},u={};return{register_parser:e,parse:t,get:r}}),function(){function n(n,t,e){var r=t&&e||0,i=0;for(t=t||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>i&&(t[r+i++]=d[n])});16>i;)t[r+i++]=0;return t}function r(n,t){var e=t||0,r=h;return r[n[e++]]+r[n[e++]]+r[n[e++]]+r[n[e++]]+"-"+r[n[e++]]+r[n[e++]]+"-"+r[n[e++]]+r[n[e++]]+"-"+r[n[e++]]+r[n[e++]]+"-"+r[n[e++]]+r[n[e++]]+r[n[e++]]+r[n[e++]]+r[n[e++]]+r[n[e++]]}function i(n,t,e){var i=t&&e||0,u=t||[];n=n||{};var a=null!=n.clockseq?n.clockseq:m,o=null!=n.msecs?n.msecs:(new Date).getTime(),c=null!=n.nsecs?n.nsecs:_+1,l=o-x+(c-_)/1e4;if(0>l&&null==n.clockseq&&(a=a+1&16383),(0>l||o>x)&&null==n.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=o,_=c,m=a,o+=122192928e5;var s=(1e4*(268435455&o)+c)%4294967296;u[i++]=s>>>24&255,u[i++]=s>>>16&255,u[i++]=s>>>8&255,u[i++]=255&s;var f=o/4294967296*1e4&268435455;u[i++]=f>>>8&255,u[i++]=255&f,u[i++]=f>>>24&15|16,u[i++]=f>>>16&255,u[i++]=a>>>8|128,u[i++]=255&a;for(var p=n.node||y,h=0;6>h;h++)u[i+h]=p[h];return t?t:r(u)}function u(n,t,e){var i=t&&e||0;"string"==typeof n&&(t="binary"==n?new p(16):null,n=null),n=n||{};var u=n.random||(n.rng||a)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t)for(var o=0;16>o;o++)t[i+o]=u[o];return t||r(u)}var a,o=this;if("function"==typeof t)try{var c=t("crypto").randomBytes;a=c&&function(){return c(16)}}catch(l){}if(!a&&o.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);a=function(){return crypto.getRandomValues(s),s}}if(!a){var f=new Array(16);a=function(){for(var n,t=0;16>t;t++)0===(3&t)&&(n=4294967296*Math.random()),f[t]=n>>>((3&t)<<3)&255;return f}}for(var p="function"==typeof Buffer?Buffer:Array,h=[],d={},g=0;256>g;g++)h[g]=(g+256).toString(16).substr(1),d[h[g]]=g;var v=a(),y=[1|v[0],v[1],v[2],v[3],v[4],v[5]],m=16383&(v[6]<<8|v[7]),x=0,_=0,w=u;if(w.v1=i,w.v4=u,w.parse=n,w.unparse=r,w.BufferClass=p,"function"==typeof e&&e.amd)e("node-uuid",[],function(){return w});else if("undefined"!=typeof module&&module.exports)module.exports=w;else{var b=o.uuid;w.noConflict=function(){return o.uuid=b,w},o.uuid=w}}.call(this),e("parser/stage2d",["underscore","node-uuid","core"],function(n,t,e){return["stage2d",["sheets"],{margin_x:10,margin_y:10,width:500,height:500},function(t,r){var i=d3.select(document.createElementNS("http://www.w3.org/2000/svg","svg")),u=i.append("g").attr("transform","translate("+r.margin_x+","+r.margin_y+")").attr("class","root"),a=u.append("g").attr("class","sheets_root");return n.each(t,function(n){var t=e.get(n),r=t.node();a.node().appendChild(r)}),i}]}),e("utils/dataframe",["underscore"],function(n){function t(t){this.raw=t;var e=n.keys(t[0]),r=n.zip.apply(this,n.map(t,function(t){return n.toArray(t)})),i=n.filter(r,function(t){return n.all(t,function(t){return n.isArray(t)})});return this.nested=1==i.length?e[r.indexOf(i[0])]:!1,this.filters={},this}return t.prototype.row=function(n){return this.raw[n]},t.prototype.column=function(t){var e=[],r=this.raw;return n.each(r,function(n){e.push(n[t])}),e},t.prototype.scale=function(t,e){if(this.isContinuous(t)){var r=this.columnRange(t);return r=n.range(r.min,r.max+1,(r.max-r.min)/(e.length-1)),d3.scale.linear().domain(r).range(e)}return d3.scale.ordinal().domain(n.uniq(this.column(t))).range(e)},t.prototype.isContinuous=function(t){return n.every(this.column(t),function(t){return n.isNumber(t)})},t.prototype.addFilter=function(n,t,e){this.filters[n]={func:t,excepts:e}},t.prototype.columnWithFilters=function(t,e){var r=this.raw.concat();return n.each(this.filters,function(e,i){(-1==e.excepts.indexOf("self")||i!=t)&&(t in e.excepts||(r=n.filter(r,e.func)))}),n.map(r,function(n){return n[e]})},t.prototype.pickUpCells=function(t,e){var r=this.column(t);return n.map(e,function(n){return r[n]})},t.prototype.getPartialDf=function(t){return n.map(this.raw,function(e){return n.reduce(t,function(n,t){return n[t]=e[t],n},{})})},t.prototype.nested_column=function(n,e){if(!this.nested)throw"Recieved dataframe is not nested.";var r=new t("",this.row(n)[this.nested]);return r.column(e)},t.prototype.columnRange=function(n){var t=this.column(n);return{max:d3.max(t,function(n){return n}),min:d3.min(t,function(n){return n})}},t}),e("parser/scale",["underscore","core","utils/dataframe"],function(n,t,e){return["df_scale",["data_id","column","range"],{},function(n,r,i){var u=t.get(n),a=new e(u);return a.scale(r,i)}]}),e("parser/position",["underscore"],function(){return["position2d",["x","y"],{},function(n,t){return function(e,r){return{x:n(e),y:t(r)}}}]}),e("parser/pane",["underscore","core"],function(n,t){return["pane",["parent_id","layout"],{},function(e,r){var i=d3.select("#"+e),u=function(e,r){if(!n.has(r,"type")){var i=t.get(r.sync);return void e.node().appendChild(i.node())}switch(r.type){case"columns":var a=e.append("div").style({display:"table"});n.each(r.contents,function(n){var t=a.append("div").style("display","table-cell");u(t,n)});break;case"rows":var o=e.append("div");n.each(r.contents,function(n){var t=o.append("div");u(t,n)});break;default:return}};u(i,r)}]}),e("parser/data",[],function(){return["data",["data"],{},function(n){return n}]}),e("parser/init",["underscore","core","parser/stage2d","parser/scale","parser/position","parser/pane","parser/data"],function(n,t){var e=[].slice.call(arguments,2);return function(){n.each(e,function(n){t.register_parser.apply(t,n)})}}),e("glyph",["underscore","core"],function(n,t){function e(e,r,i){r.shift(),t.register_parser(e,r,i,function(){var e=[].slice.call(arguments,0),r=document.createElementNS("http://www.w3.org/2000/svg","g"),i=function(e){if(n.isObject(e)&&n.has("sync")){var r=e.sync;return t.get(r)}return e},u=n.map(e.pop(),i),a=n.map(e,i);return a.push(u),a.unshift(d3.select(r)),i.apply(null,a)})}return{register_glyph:e}}),e("glyph/scatter",["underscore"],function(){return["scatter",["context","data","x","y","position"],{color:"steelblue",shape:"circle",size:100,stroke_color:"black",stroke_width:1,hover:!0},function(n,t,e,r,i,u){var a=n.selectAll("path").data(t);return a.enter().append("path").attr("transform",function(n){var t=i(n[e],n[r]);return"translate("+t.x+","+t.y+")"}).attr("fill",u.color).attr("stroke",u.stroke_color).attr("stroke-width",u.stroke_width).transition().duration(200).attr("d",d3.svg.symbol().type(u.shape).size(u.size)),a}]}),e("glyph/init",["underscore","glyph","glyph/scatter"],function(n,t,e){var r=[e];return function(){n.each(r,function(n){t.register_glyph.apply(t,n)})}}),e("sheet",["underscore","core"],function(n,t){function e(e,r,i){r.shift(),t.register_parser(e,r,i,function(){var e=[].slice.call(arguments,0),r=document.createElementNS("http://www.w3.org/2000/svg","g"),i=function(e){if(n.isObject(e)&&n.has("sync")){var r=e.sync;return t.get(r)}return e},u=n.map(e.pop(),i),a=n.map(e,i);return a.push(u),a.unshift(d3.select(r)),i.apply(null,a)})}return{register_sheet:e}}),e("sheet/axis",["underscore"],function(){return["axis2d",["context","xscale","yscale"],{width:0,height:0,margin:{top:0,bottom:0,left:0,right:0},stroke_color:"#fff",stroke_width:1,x_label:"X",y_label:"Y",grid:!0,zoom:!1,zoom_range:[.5,5],rotate_x_label:0,rotate_y_label:0},function(n,t,e,r){var i=d3.svg.axis().scale(t).orient("bottom"),u=d3.svg.axis().scale(e).orient("left"),a=n.append("g");return a.append("g").attr("class","x_axis"),a.append("g").attr("class","y_axis"),a.select(".x_axis").call(i),a.select(".y_axis").call(u),a.selectAll(".x_axis, .y_axis").selectAll("path, line").style("z-index",r.z_index).style("fill","none").style("stroke",r.stroke_color).style("stroke-width",r.stroke_width),a.selectAll(".x_axis, .y_axis").selectAll("text").attr("fill","rgb(50,50,50)"),a.selectAll(".x_axis").attr("transform","translate(0,"+(r.height+4)+")"),a.selectAll(".y_axis").attr("transform","translate(-4,0)"),0!=r.rotate_y_label&&a.selectAll(".y_axis").selectAll("text").style("text-anchor","end").attr("transform",function(){return"rotate("+r.rotate_y_label+")"}),0!=r.rotate_x_label&&a.selectAll(".x_axis").selectAll("text").style("text-anchor","end").attr("transform",function(){return"rotate("+r.rotate_x_label+")"}),r.grid&&(i.tickSize(-1*r.height),u.tickSize(-1*r.width)),a}]}),e("sheet/background",[],function(){return["background2d",["context"],{width:500,height:500,bg_color:"#eee",stroke_width:1,stroke:"#666"},function(n,t){var e=n.append("g").attr("class","background");return e.append("rect").attr({x:0,y:0,width:t.width,height:t.height,fill:t.bg_color,stroke:t.stroke,"stroke-width":t.stroke_width}),e}]}),e("sheet/label",[],function(){return["label",["context"],{},function(n,t){var e=n.append("g");return e.append("text").attr("x",t.width/2).attr("y",t.height+t.margin.bottom/1.5).attr("text-anchor","middle").attr("fill","rgb(50,50,50)").attr("font-size",22).text(t.x_label),e}]}),e("sheet/context",["underscore","node-uuid","core"],function(n,t,e){return["context2d",["parent","glyphs"],{width:500,height:500},function(r,i,u){var a=t.v4()+"clip_context",o=r.append("g").attr("class","context");o.attr("clip-path","url(#"+a+")").append("clipPath").attr("id",a).append("rect").attr({x:0,y:0,width:u.width,height:u.height});var c=o.append("g");n.each(i,function(n){var t=e.get(n),r=t.node().parentNode;c.node().appendchild(r)})}]}),e("sheet/init",["underscore","sheet","sheet/axis","sheet/background","sheet/label","sheet/context"],function(n,t){var e=[].slice.call(arguments,2);return function(){n.each(e,function(n){t.register_sheet.apply(t,n)})}}),e("init",["underscore","parser/init","glyph/init","sheet/init"],function(n,t,e,r){return function(){n.each([t,e,r],function(n){n()})}}),e("main",["require","exports","module","init","core","glyph","sheet"],function(n){var t=n("init");return t(),{core:n("core"),glyph_manager:n("glyph"),sheet_manager:n("sheet")}}),t("main")});